(()=>{"use strict";var t={338:function(t,e,i){var s=i(412);class r{on(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.eventMap[t].push({fn:e,once:i})}off(t,e){let i=this.eventMap[t];if(e){for(let t=0;t<i.length;++t)if(e===i[t].fn){i.splice(t,1);break}}else this.eventMap[t]=[]}offAll(){for(let t of Object.keys(this.eventMap))this.eventMap[t]=[]}emit(t){let e=this.eventMap[t];for(let i=e.length-1;i>=0;--i){let s=e[i];s.fn(),s.once&&this.off(t,s.fn)}}hnPlay(){this.emit("play")}hnPause(){this.emit("pause")}hnEnded(){this.stop(),this.emit("ended")}load(){this.audio.load()}play(){this.stop(),this.audio.play().catch(t=>{})}resume(){this.audio.play()}pause(){this.audio.pause()}stop(){this.audio.readyState>0&&(this.audio.pause(),this.audio.currentTime=0)}seek(t){this.audio.currentTime=t/1e3}get paused(){let t=!1;return this.audio.paused&&0!==this.audio.currentTime&&(t=!0),t}get currentTime(){return this.audio.currentTime}get duration(){return this.audio.duration}set volume(t){t<0||t>1||(this.audio.volume=t)}constructor(t){(0,s._)(this,"audio",void 0),(0,s._)(this,"eventMap",void 0),(0,s._)(this,"audioOption",void 0),(0,s._)(this,"bindPlay",void 0),(0,s._)(this,"bindPause",void 0),(0,s._)(this,"bindEnded",void 0),this.audioOption=t,this.audio=new Audio,this.audio.preload="none",this.audio.src=t.src,t.loop&&(this.audio.loop=t.loop),t.volume&&(this.audio.volume=t.volume),t.autoplay&&this.play(),this.eventMap={play:[],pause:[],ended:[]},this.bindPlay=this.hnPlay.bind(this),this.bindPause=this.hnPause.bind(this),this.bindEnded=this.hnEnded.bind(this),this.audio.addEventListener("play",this.bindPlay),this.audio.addEventListener("pause",this.bindPause),this.audio.addEventListener("ended",this.bindEnded)}}let a=new class{add(t){if(Array.isArray(t))for(let e of t)this._add(e);else this._add(t)}_add(t){if(this.isContain(t.id))return;let e=Object.assign({volume:1,loop:!1,ignoreStop:!1,tag:"default"},t),i=new r(e);this.sounds.set(t.id,{sound:i,...e})}get(t){var e;return(null==(e=this.sounds.get(t))?void 0:e.sound)??null}on(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.get(t);r&&r.on(e,i,s)}off(t,e,i){let s=this.get(t);s&&s.off(e,i)}play(t,e){let i=this.get(t);i&&(e&&(this.off(t,"ended"),this.on(t,"ended",e,!0)),i.play())}resume(t){let e=this.get(t);e&&e.resume()}pause(t){let e=this.get(t);e&&e.pause()}stop(t){let e=this.get(t);e&&e.stop()}seek(t,e){let i=this.get(t);i&&i.seek(e)}stopAll(){for(let t of this.sounds.values())t.ignoreStop||"bgm"===t.tag||t.sound.stop()}resumeAll(){for(let t of this.pauseSounds)t.resume();this.pauseSounds=[]}pauseAll(){for(let t of this.sounds.values())t.sound.paused||(t.sound.pause(),this.pauseSounds.push(t.sound))}getPaused(t){let e=this.get(t);return!!e&&e.paused}getDuration(t){let e=-1,i=this.get(t);return i?e=i.duration:e}getCurrentTime(t){let e=-1,i=this.get(t);return i?e=i.currentTime:e}setVolume(t,e){if(e){let i=this.get(e);i&&(i.volume=t)}else for(let e of this.sounds.values())e.sound.volume=t}loadAll(){for(let t of this.sounds.values())t.sound.load()}isContain(t){let e=!1;for(let i of this.sounds.keys())if(t===i){e=!0;break}return e}constructor(){(0,s._)(this,"sounds",new Map),(0,s._)(this,"pauseSounds",[]),this.sounds=new Map,this.pauseSounds=[]}};var o=i(534);function n(t,e){let i=new CustomEvent("MESSAGE",{detail:e});t.dispatchEvent(i)}function l(){let t=new o.UAParser().getDevice();return("mobile"===t.type||"tablet"===t.type)&&("iPhone"===t.model||"iPad"===t.model)}i(736);let d=i.p+"audio/global/button.mp3";window.bound={x:0,y:0,scale:1},window.globalVolume=1,window.getZoomRate=()=>window.bound.scale;class h{setupInit(t){this.initPage=t}noDelay(){this.isNoDelay=!0}init(){this.initButtonHover(),this.initScale(),a.add([{id:"button",src:d,ignoreStop:!0}]),this.isNoDelay?this.showContent():this.tioShow=setTimeout(()=>{this.showContent()},1e3)}initButtonHover(){var t;(Array.isArray(t=Array.from(new Set([...Array.from(document.querySelectorAll('*[class*="btn"]:not([class*="btns"])')),...Array.from(document.querySelectorAll("button"))])))?t:[t]).forEach(t=>{t.addEventListener("pointerenter",e=>{"touch"!==(e.pointerType||"touch")&&t.classList.add("hover")}),t.addEventListener("pointerleave",e=>{"touch"!==(e.pointerType||"touch")&&t.classList.remove("hover")})})}showContent(){if(this.root&&this.root.classList.remove("hidden"),this.tioShow&&clearTimeout(this.tioShow),1===this.pages.length){let t=this.pages[0];t.init(),t.activate()}else for(let t of this.pages)t.init();n(window,{message:"CONTENT_READY"})}hnMessage(t){let e=t.detail;!function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i]}("hnMessage :: ",e.message),e.message}initScale(){this.resize&&(this.setScale(),window.addEventListener("resize",()=>{this.setScale()}),window.addEventListener("orientationchange",()=>{setTimeout(()=>{this.setScale()},1e3)}))}setScale(){this.root&&(window.bound=function(t,e,i){let s=Math.min(window.innerWidth/1280,window.innerHeight/720),r=(window.innerWidth-1280*s)/2,a=(window.innerHeight-720*s)/2;return t.style.transformOrigin="top left",t.style.left=`${r}px`,t.style.top=`${a}px`,t.style.transform=`scale(${s})`,{x:r,y:a,scale:s}}(this.root,1280,720),n(window,{message:"CONTENT_RESIZE"}))}constructor(t){for(let e of((0,s._)(this,"props",void 0),(0,s._)(this,"resize",void 0),(0,s._)(this,"root",void 0),(0,s._)(this,"pages",[]),(0,s._)(this,"initPage",void 0),(0,s._)(this,"tioShow",void 0),(0,s._)(this,"isNoDelay",!1),(0,s._)(this,"messageHandler",void 0),this.props=t??{},this.resize=this.props.resize??!0,window.oncontextmenu=t=>(t.preventDefault(),t.stopPropagation(),!1),this.root=document.querySelector("#wrap"),Array.from(document.querySelectorAll("img"))))e.draggable=!1;window.addEventListener("load",()=>{this.pages=this.initPage(),this.init()}),this.messageHandler=this.hnMessage.bind(this),window.addEventListener("MESSAGE",this.messageHandler)}}var u=i(370);class c{start(){this.resume()}end(){n(window,{message:"FRAME_CALL_END",mc:this.mc}),this.dispose()}dispose(){this.mc&&(this.pause(),this.queue=null)}resume(){this.mc&&(this.mc.addEventListener("tick",this.bindTick),this.mc.visible=!0,this.mc.gotoAndPlay(this.s))}pause(){this.mc&&(this.mc.removeEventListener("tick",this.bindTick),this.mc.stop())}hnTick(){let t,e;if(this.queue){for(let[i,s]of this.queue)if("string"==typeof i&&("end"===i&&this.mc.currentFrame===this.mc.totalFrames-1||this.mc.currentLabel===i)||this.mc.currentFrame===i){t=i,e=s;break}"string"==typeof this.e?this.mc.currentLabel===this.e&&this.end():this.mc.currentFrame===this.e&&this.end(),t&&e&&this.executeQueue(t,e)}}executeQueue(t,e){e(),this.queue&&this.queue.delete(t)}constructor(t,e,i,r){(0,s._)(this,"mc",void 0),(0,s._)(this,"s",void 0),(0,s._)(this,"e",void 0),(0,s._)(this,"queue",void 0),(0,s._)(this,"bindTick",void 0),this.mc=t,this.s=e,this.e=i,this.queue=r,this.queue||(this.queue=new Map),this.bindTick=this.hnTick.bind(this)}}window.createjs=u.Z;class p{getContainer(){if(!this.container)throw Error("Container not initialized");return this.container}init(){let t=Object.keys(window.AdobeAn.compositions)[0],e=window.AdobeAn.compositions[t],i=new u.Z.LoadQueue(!1);i.installPlugin(u.Z.Sound),i.addEventListener("fileload",t=>{this.handleFileLoad(t,e)}),i.addEventListener("complete",t=>{this.handleComplete(t,e)});let s=e.getLibrary();u.Z.MotionGuidePlugin.install();let r=s.properties.manifest;if(l())r.map(t=>{this.args.manifestSrc&&(t.src=this.args.manifestSrc.concat("/",t.src))}),r.length>0?i.loadManifest(r):this.setupComplete(s);else{let t=[];r.map(e=>{this.args.manifestSrc&&(e.src=this.args.manifestSrc.concat("/",e.src)),-1===e.src.indexOf(".mp3")?t.push(e):a.add({id:e.id,src:e.src,tag:this.args.stageContent})}),t.length>0?i.loadManifest(t):this.setupComplete(s)}}handleFileLoad(t,e){let i=e.getImages();(null==t?void 0:t.item.type)==="image"&&(i[t.item.id]=t.result)}handleComplete(t,e){let i=e.getLibrary(),s=e.getSpriteSheet(),r=t.target,a=i.ssMetadata;for(let t=0;t<a.length;t++)s[a[t].name]=new u.Z.SpriteSheet({images:[r.getResult(a[t].name)],frames:a[t].frames});this.setupComplete(i)}setupComplete(t){if(this.lib=t,this.exportRoot=new t[this.args.stageContent],this.exportRoot.name=`exportRoot_${this.args.stageContent}`,this.stage=new t.Stage(this.canvas),u.Z.Touch.enable(this.stage,!0,!1),this.stage.enableMouseOver(),this.addGlobal(),this.canvas&&p.SCALE_UP&&!function(){let t=new o.UAParser().getDevice();return"mobile"===t.type||"tablet"===t.type}()){let t=this.args.canvasSize.w,e=this.args.canvasSize.h;this.canvas.style.width=`${t}px`,this.canvas.style.height=`${e}px`,this.canvas.width=2*t,this.canvas.height=2*e,this.stage.scaleX=2,this.stage.scaleY=2}u.Z.Ticker.framerate=t.properties.fps,u.Z.Ticker.timingMode=u.Z.Ticker.TIMEOUT,u.Z.Ticker.interval=30,u.Z.Ticker.addEventListener("tick",this.stage),this.stage.addChild(this.exportRoot),this.stage.tickEnabled=!1,n(window,{message:p.READY_COMPLETE,self:this}),this.args.autoplay&&this.start()}start(){this.stage.tickEnabled=!0,n(window,{message:p.START,self:this})}pause(){this.stage&&(this.stage.tickEnabled=!1)}resume(){this.stage&&(this.stage.tickEnabled=!0)}addGlobal(){window.playSound=this.playSound.bind(this)}playSound(t,e,i){l()?u.Z.Sound.play(t,{interrupt:u.Z.Sound.INTERRUPT_EARLY,loop:e,offset:i}):a.play(t)}play(t,e,i,s){let r,a="end"===i?t.totalFrames-1:i,o=new Map(s);this.frameCallMap.has(t)?(r=this.frameCallMap.get(t))&&(r.dispose(),r=new c(t,e,a,o),this.frameCallMap.set(t,r),r.start()):(r=new c(t,e,a,o),this.frameCallMap.set(t,r),r.start())}stopPlayQueue(t){for(let[e,i]of this.frameCallMap)e===t&&(i.dispose(),this.frameCallMap.delete(e))}stopAllPlayQueue(){for(let[t,e]of this.frameCallMap)e.dispose(),this.frameCallMap.delete(t)}playOnce(t){return new Promise(e=>{this.play(t,0,"end",[["end",()=>{e()}]])})}playOnceLabelMC(t,e){return new Promise(i=>{if(this.hasLabel(t,e)){t.gotoAndStop(e);let s=this.getChildAt(t,0);this.play(s,0,"end",[["end",()=>{i()}]])}else i()})}lock(){this.exportRoot.mouseEnabled=!1}unlock(){this.exportRoot.mouseEnabled=!0}getRoot(){return this.exportRoot}getLib(){return this.lib}getStage(){return this.stage}getCanvas(){return this.canvas}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e.getChildByName(t):this.exportRoot.getChildByName(t)}find(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=(e=i||this.exportRoot).getChildByName(t);if(s)return s;{let i=e.children;for(let e=0;e<i.length;++e){let s=i[e];if(s instanceof u.Z.MovieClip){let e=this.find(t,s);if(e)return e}}}}setHitArea(t){let e=t.nominalBounds,i=new u.Z.Shape;i.graphics.beginFill("#ff0000").drawRect(e.x,e.y,e.width,e.height),t.hitArea=i}getBound(t){let e=t.getBounds();return e||(e=t.nominalBounds),e}getNominalBound(t){return t.nominalBounds}hitTest(t,e,i){if(!t.visible||!t.mouseEnabled)return!1;let s=t.globalToLocal(e,i),r=this.getBound(t);return!!(s.x>=0)&&!!(s.x<=r.width)&&!!(s.y>=0)&&!!(s.y<=r.height)}overlap(t,e){let i=this.setupPoint(t),s=this.setupPoint(e);return!(i.tr.y>s.bl.y)&&!(i.bl.y<s.tr.y)&&!(i.tr.x<s.bl.x)&&!(i.bl.x>s.tr.x)}setupPoint(t){let e=this.getBound(t),i={x:t.x-t.regX,y:t.y-t.regY},s=t.parent.localToGlobal(i.x,i.y);return{tr:{x:s.x+e.width,y:s.y},bl:{x:s.x,y:s.y+e.height}}}disableButton(t){t.alpha=.5,t.mouseEnabled=!1}enableButton(t){t.alpha=1,t.mouseEnabled=!0}isClicked(t,e){if(t.name===e)return!0;let i=t.parent;for(;i;){if(i.name===e)return!0;i=i.parent}return!1}alignInY(t){let e=0,i=0,s=0,r=0;for(let a=0;a<t.length;++a)for(let o=a+1;o<t.length;++o)if(e=Math.floor(t[a].x),s=Math.floor(t[a].y),i=Math.floor(t[o].x),s>(r=Math.floor(t[o].y))){let e=t[a];t[a]=t[o],t[o]=e}else if(5>Math.abs(s-r)&&e>i){let e=t[a];t[a]=t[o],t[o]=e}}alignInX(t){let e=0,i=0,s=0,r=0;for(let a=0;a<t.length;++a)for(let o=a+1;o<t.length;++o)if(e=Math.floor(t[a].x),s=Math.floor(t[a].y),i=Math.floor(t[o].x),r=Math.floor(t[o].y),e>i){let e=t[a];t[a]=t[o],t[o]=e}else if(5>Math.abs(e-i)&&s>r){let e=t[a];t[a]=t[o],t[o]=e}}getMovieClipsByName(t,e){let i=[],s=0;for(;;){let r=this.find(`${t}_${s}`,e);if(!r)break;i.push(r),s++}return i.length,i}getChildAt(t,e){return t.getChildAt(e)}hasLabel(t,e){return t.labels.some(t=>t.label===e)}constructor(t){var e;(0,s._)(this,"args",void 0),(0,s._)(this,"doc",document),(0,s._)(this,"container",void 0),(0,s._)(this,"canvas",void 0),(0,s._)(this,"exportRoot",void 0),(0,s._)(this,"stage",void 0),(0,s._)(this,"lib",void 0),(0,s._)(this,"frameCallMap",new Map),this.args=t;let i=this.doc.querySelector(this.args.node);if(!i)throw Error(`Container not found: ${this.args.node}`);this.container=i,this.container.style.width=`${this.args.canvasSize.w}px`,this.container.style.height=`${this.args.canvasSize.h}px`,this.canvas=this.doc.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.width=this.args.canvasSize.w,this.canvas.height=this.args.canvasSize.h,this.container.appendChild(this.canvas),(e=this.args.src,new Promise((t,i)=>{let s=document.createElement("script");s.src=e,s.async=!1,document.body.appendChild(s),s.addEventListener("load",()=>{t()}),s.addEventListener("error",()=>{i(Error(`${e} \u{C2A4}\u{D06C}\u{B9BD}\u{D2B8} \u{B85C}\u{B4DC} \u{C2E4}\u{D328}`))})})).then(()=>{this.init()}),window.addEventListener("MESSAGE",t=>{let e=t.detail;if("FRAME_CALL_END"===e.message){let t=e.mc;for(let[e]of this.frameCallMap)e===t&&this.frameCallMap.delete(e)}})}}(0,s._)(p,"START","ccstart"),(0,s._)(p,"READY_COMPLETE","ccreadycomplete"),(0,s._)(p,"SCALE_UP",!0);class m{init(){this.setupCC(),this.setupEvent()}reset(){}activate(){this.isActive=!0}deactivate(){this.isActive=!1}hnMessage(t){this.isActive&&t.detail.message===p.READY_COMPLETE&&this.initCC()}setupEvent(){this.messageHandler=this.hnMessage.bind(this),window.addEventListener("MESSAGE",this.messageHandler)}setupCC(){this.props.cc&&(this.cc=new p(this.props.cc))}initCC(){this.cc&&this.cc.start()}playButtonAudio(){a.play("button")}constructor(t){(0,s._)(this,"props",void 0),(0,s._)(this,"root",void 0),(0,s._)(this,"cc",void 0),(0,s._)(this,"isActive",!0),(0,s._)(this,"messageHandler",void 0);let{root:e}=t;this.props=t,this.root=document.querySelector(e)}}class g{init(t){t&&this.props.linkName&&(this.cc=t,this.rootMc=this.cc.getRoot(),this.lib=this.cc.getLib(),this.mc=new this.lib[this.props.linkName]),this.props.root&&(this.root=document.querySelector(this.props.root))}start(){this.cc&&this.rootMc.addChild(this.mc)}clear(){this.cc&&this.rootMc.removeChild(this.mc)}initCC(){}constructor(t){(0,s._)(this,"props",void 0),(0,s._)(this,"root",void 0),(0,s._)(this,"cc",void 0),(0,s._)(this,"rootMc",void 0),(0,s._)(this,"lib",void 0),(0,s._)(this,"mc",void 0),(0,s._)(this,"rootEl",void 0),this.props=t}}class b extends g{init(t){super.init(t),this.bindClick=this.hnClick.bind(this),this.btnOk=this.root.querySelector(".btn-ok"),this.btnOk.btnType="btn-ok",this.btnOk.addEventListener("click",this.bindClick)}clear(){super.clear(),this.hideRoot(),a.stop("bgm_intro")}start(){super.start(),this.cc.play(this.mc,0,"end",[["end",()=>{}]]),this.showRoot(),a.play("bgm_intro")}showRoot(){this.root.classList.remove("d-none")}hideRoot(){this.root.classList.add("d-none")}hnClick(t){t.target,"btn-ok"===t.target.btnType&&(n(window,{message:S.GO_GAME,self:this}),a.play("button"))}constructor(t){super(t),(0,s._)(this,"btnOk",void 0),(0,s._)(this,"bindClick",void 0)}}class v extends g{init(t){super.init(t),this.bindClick=this.hnClick.bind(this),this.btnOk=this.root.querySelector(".btn-ok"),this.btnOk.btnType="btn-ok",this.btnOk.addEventListener("click",this.bindClick)}clear(){super.clear(),this.hideRoot(),a.stop("bgm_game")}start(){super.start(),this.cc.play(this.mc,0,"end",[["end",()=>{}]]),this.showRoot(),a.play("bgm_game"),a.play("sample_audio_01")}showRoot(){this.root.classList.remove("d-none")}hideRoot(){this.root.classList.add("d-none")}hnClick(t){t.target,"btn-ok"===t.target.btnType&&(n(window,{message:S.GO_OUTRO,self:this}),a.play("button"))}constructor(t){super(t),(0,s._)(this,"btnOk",void 0),(0,s._)(this,"bindClick",void 0)}}class w extends g{init(t){super.init(t),this.bindClick=this.hnClick.bind(this),this.btnOk=this.root.querySelector(".btn-ok"),this.btnOk.btnType="btn-ok",this.btnOk.addEventListener("click",this.bindClick)}clear(){super.clear(),this.hideRoot(),a.stop("bgm_outro")}start(){super.start(),this.cc.play(this.mc,0,"end",[["end",()=>{}]]),this.showRoot(),a.play("bgm_outro")}showRoot(){this.root.classList.remove("d-none")}hideRoot(){this.root.classList.add("d-none")}hnClick(t){t.target,"btn-ok"===t.target.btnType&&(n(window,{message:S.GO_INTRO,self:this}),a.play("button"))}constructor(t){super(t),(0,s._)(this,"btnOk",void 0),(0,s._)(this,"bindClick",void 0)}}class S extends m{init(){super.init(),this.introCont=this.root.querySelector(".intro-cont"),this.gameCont=this.root.querySelector(".game-cont"),this.outroCont=this.root.querySelector(".outro-cont"),(this.sampleProps.sounds.list||[]).forEach((t,e)=>{a.add(t)})}initCC(){super.initCC(),this.start()}hnMessage(t){switch(super.hnMessage(t),t.detail.message){case S.GO_INTRO:this.setStep(0);break;case S.GO_GAME:this.setStep(1);break;case S.GO_OUTRO:this.setStep(2)}}addSteps(t){this.steps=t}start(){this.addSteps([new b({root:".intro-cont",linkName:"Step_Intro"}),new v({root:".game-cont",linkName:"Step_Game"}),new w({root:".outro-cont",linkName:"Step_Outro"})]),this.steps.forEach(t=>{this.cc?t.init(this.cc):t.init()}),this.sampleProps.startStepIndex?this.setStep(this.sampleProps.startStepIndex):this.setStep(0)}setStep(t){t<0||t>this.steps.length-1||(a.stopAll(),this.stepIndex=t,this.step&&this.step.clear(),this.step=this.steps[t],this.step.start())}constructor(t){super(t),(0,s._)(this,"sampleProps",void 0),(0,s._)(this,"introCont",void 0),(0,s._)(this,"gameCont",void 0),(0,s._)(this,"outroCont",void 0),(0,s._)(this,"step",void 0),(0,s._)(this,"steps",void 0),(0,s._)(this,"stepIndex",void 0),this.sampleProps=t}}(0,s._)(S,"GO_INTRO","GO_INTRO"),(0,s._)(S,"GO_GAME","GO_GAME"),(0,s._)(S,"GO_OUTRO","GO_OUTRO");class C{initialize(){this.setupDropdowns(),this.setupEventListeners()}setupDropdowns(){this.createDropdownItems(this.dropdownTop,["\xb0C","mm","cm","m","km","g","kg","t","mL","L","명","개","번","회","원","일","월","주","마리","권","만 명","천 명","초","상자","판","가구","대","시간","년","시","요일","분","건","세","점"]),this.createDropdownItems(this.dropdownBottom,["\xb0C","mm","cm","m","km","g","kg","t","mL","L","명","개","번","회","원","일","월","주","마리","권","만 명","천 명","초","상자","판","가구","대","시간","년","시","요일","분","건","세","점"])}setupEventListeners(){this.unitDropboxTop.addEventListener("click",()=>{this.toggleDropdown(this.dropdownTop,this.dropdownBottom)}),this.unitDropboxBottom.addEventListener("click",()=>{this.toggleDropdown(this.dropdownBottom,this.dropdownTop)}),document.addEventListener("click",t=>{this.unitDropboxTop.contains(t.target)||this.dropdownTop.contains(t.target)||(this.dropdownTop.style.display="none"),this.unitDropboxBottom.contains(t.target)||this.dropdownBottom.contains(t.target)||(this.dropdownBottom.style.display="none")})}createDropdownItems(t,e){t&&e.forEach(e=>{let i=document.createElement("div");i.className="dropdown-item",i.textContent=e,i.addEventListener("click",()=>{this.selectDropdownItem(t,e)}),t.appendChild(i)})}toggleDropdown(t,e){t&&(e&&(e.style.display="none"),"none"===t.style.display||""===t.style.display?t.style.display="flex":t.style.display="none")}selectDropdownItem(t,e){if(!t)return;t.style.display="none";let i=t.querySelectorAll(".dropdown-item");i.forEach(t=>{t.classList.remove("on")});let s=Array.from(i).find(t=>t.textContent===e);if(s&&s.classList.add("on"),t.classList.contains("dropdown-top")){let t=document.querySelector(".unitDropbox-top-value");t&&(t.classList.add("active"),t.textContent=e)}else if(t.classList.contains("dropdown-bottom")){let t=document.querySelector(".unitDropbox-bottom-value");t&&(t.classList.add("active"),t.textContent=e)}}resetDropdowns(){this.unitDropboxValue.forEach(t=>{t.classList.remove("active"),t.textContent=""}),document.querySelectorAll(".dropdown-item").forEach(t=>{t.classList.remove("on")})}hideDropdowns(){this.unitDropboxTop.classList.add("remove"),this.dropdownTop.classList.add("remove")}showDropdowns(){this.unitDropboxTop.classList.remove("remove"),this.dropdownTop.classList.remove("remove")}constructor(){(0,s._)(this,"unitDropboxTop",void 0),(0,s._)(this,"unitDropboxBottom",void 0),(0,s._)(this,"dropdownTop",void 0),(0,s._)(this,"dropdownBottom",void 0),(0,s._)(this,"unitDropboxValue",void 0),this.unitDropboxTop=document.querySelector(".unitDropbox-top"),this.unitDropboxBottom=document.querySelector(".unitDropbox-bottom"),this.dropdownTop=document.querySelector(".dropdown-top"),this.dropdownBottom=document.querySelector(".dropdown-bottom"),this.unitDropboxValue=Array.from(document.querySelectorAll(".unitDropboxValue")),this.initialize()}}class A{initialize(){this.setupEventListeners(),this.setupDropdownEventListeners(),this.resetDropdownStates()}setupEventListeners(){this.imageInputs.forEach((t,e)=>{t.addEventListener("change",()=>{t.checked&&(this.selectedImageIndex=e,this.updateImageSources())})})}setupDropdownEventListeners(){let t=this.selectShowImg.querySelectorAll(".image-dropdown-btn"),e=this.selectShowImg.querySelectorAll(".image-dropdown-menu");t.forEach((t,i)=>{let s=e[i];t.addEventListener("click",t=>{t.stopPropagation(),this.toggleDropdown(s)})}),e.forEach((e,i)=>{let s=t[i];e.querySelectorAll(".image-dropdown-item").forEach(t=>{t.addEventListener("click",()=>{this.selectDropdownItem(s,e,t.textContent||"",i)})})}),document.addEventListener("click",()=>{document.querySelectorAll(".image-dropdown-menu").forEach(t=>{t.style.display="none"})})}updateImageSources(){let t=this.selectShowImg.querySelectorAll(".show-image-item img"),e=["small","medium","big"];t.forEach((t,i)=>{t.src=`./images/choice_img_${e[i]}_${this.selectedImageIndex}.png`})}toggleDropdown(t){document.querySelectorAll(".image-dropdown-menu").forEach(e=>{e!==t&&(e.style.display="none")}),"none"===t.style.display||""===t.style.display?(t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.gap="5px"):t.style.display="none"}selectDropdownItem(t,e,i,s){t&&(t.textContent=i,t.classList.add("active")),e.style.display="none",this.dropdownStates.set(s,i);let r=3*this.selectedImageIndex+s;this.imageValues.set(r,i),0===s&&this.resetLowerDropdowns(),this.updateDropdownStates()}resetLowerDropdowns(){let t=this.selectShowImg.querySelectorAll(".image-dropdown-btn");t[1]&&(t[1].textContent="",t[1].classList.remove("active"),this.dropdownStates.delete(1)),t[2]&&(t[2].textContent="",t[2].classList.remove("active"),this.dropdownStates.delete(2))}updateDropdownStates(){let t=this.selectShowImg.querySelectorAll(".image-dropdown-menu");this.updateFirstDropdown(t[0]),this.updateSecondDropdown(t[1]),this.updateThirdDropdown(t[2])}updateFirstDropdown(t){t.querySelectorAll(".image-dropdown-item").forEach(t=>{let e=t.textContent||"";"0"===e||"50"===e||"100"===e?t.classList.add("disabled"):t.classList.remove("disabled")})}updateSecondDropdown(t){let e=t.querySelectorAll(".image-dropdown-item"),i=this.dropdownStates.get(0),s=this.dropdownStates.get(2),r=i?Number(i):0,a=s?Number(s):0;e.forEach(t=>{let e=Number(t.textContent),o=!0;o=i?e>r:1!==e,s&&(0===a?o=e>r:(o=e>r&&e<a,[1,5,10,50,100].some(t=>t>r&&t<a)||(o=0===e))),0===e&&(o=!0),t.classList.toggle("disabled",!o)})}updateThirdDropdown(t){let e=t.querySelectorAll(".image-dropdown-item"),i=this.dropdownStates.get(0),s=this.dropdownStates.get(1),r=i?Number(i):0,a=s?Number(s):0;e.forEach(t=>{let e=Number(t.textContent),o=!0;o=i?e>r:1!==e,s&&(o=100===a?0===e:0===a?e>r:e>a),0===e&&(o=!0),t.classList.toggle("disabled",!o)})}getSelectedImageIndex(){return this.selectedImageIndex}getImageValues(){return this.imageValues}reset(){if(this.imageValues.clear(),this.dropdownStates.clear(),this.imageInputs.length>0){this.imageInputs[0].checked=!0,this.selectedImageIndex=0;let t=this.selectShowImg.querySelectorAll("img"),e=["small","medium","big"];t.forEach((t,i)=>{t.src=`./images/choice_img_${e[i]}_0.png`})}this.selectShowImg.querySelectorAll(".image-dropdown-btn").forEach(t=>{t.textContent="",t.classList.remove("active")}),this.resetDropdownStates()}resetDropdownStates(){this.selectShowImg.querySelectorAll(".image-dropdown-item").forEach(t=>{t.classList.remove("disabled")}),this.updateDropdownStates()}constructor(){(0,s._)(this,"selectedImageIndex",0),(0,s._)(this,"imageInputs",void 0),(0,s._)(this,"selectShowImg",void 0),(0,s._)(this,"imageValues",new Map),(0,s._)(this,"dropdownStates",new Map),this.imageInputs=document.querySelectorAll('input[name="img-choice"]'),this.selectShowImg=document.querySelector(".select-show-img"),this.initialize()}}class y{initialize(){this.setupEventListeners(),this.setInitialSelection()}setupEventListeners(){this.gradationDropdownBtn.addEventListener("click",t=>{t.stopPropagation(),this.toggleDropdown()}),this.gradationDropdownMenu.querySelectorAll(".gradation-dropdown-item").forEach(t=>{t.addEventListener("click",()=>{this.selectDropdownItem(t)})}),document.addEventListener("click",()=>{this.gradationDropdownMenu.style.display="none"})}toggleDropdown(){"none"===this.gradationDropdownMenu.style.display||""===this.gradationDropdownMenu.style.display?(this.gradationDropdownMenu.style.display="flex",this.gradationDropdownMenu.style.justifyContent="center",this.gradationDropdownMenu.style.alignItems="center",this.gradationDropdownMenu.style.gap="3px"):this.gradationDropdownMenu.style.display="none"}selectDropdownItem(t){let e=t.textContent||"자동 계산";this.gradationDropdownBtn.textContent=e,this.gradationDropdownMenu.style.display="none",this.gradationDropdownMenu.querySelectorAll(".gradation-dropdown-item").forEach(t=>{t.classList.remove("on")}),t.classList.add("on"),this.gradationDropdownBtn.classList.add("active"),"자동 계산"===e?this.currentGridSize="자동 계산":this.currentGridSize=parseInt(e)||1}getCurrentGridSize(){return this.currentGridSize}setGridSize(t){this.currentGridSize=t,null===t?this.gradationDropdownBtn.textContent="":"자동 계산"===t?this.gradationDropdownBtn.textContent="자동 계산":this.gradationDropdownBtn.textContent=t.toString()}setInitialSelection(){this.gradationDropdownBtn.textContent="",this.gradationDropdownBtn.classList.remove("active")}reset(){this.currentGridSize=null,this.gradationDropdownBtn.textContent="",this.gradationDropdownBtn.classList.remove("active"),this.gradationDropdownMenu.querySelectorAll(".gradation-dropdown-item").forEach(t=>{t.classList.remove("on")})}constructor(){(0,s._)(this,"gradationDropdownBtn",void 0),(0,s._)(this,"gradationDropdownMenu",void 0),(0,s._)(this,"currentGridSize",null),this.gradationDropdownBtn=document.querySelector(".gradation-dropdown-btn"),this.gradationDropdownMenu=document.querySelector(".gradation-dropdown-menu"),this.initialize()}}class f{detectMobile(){let t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),i="ontouchstart"in window;return e||i}init(){this.isMobile?this.setupTouchEvents():this.setupDragEvents()}setupTouchEvents(){document.querySelectorAll(".drag-img .drag-item").forEach(t=>{t.addEventListener("touchstart",e=>{try{e.preventDefault()}catch(t){}let i=e.touches[0],s=t.getAttribute("data-img-type");this.startTouchDrag(i.clientX,i.clientY,s||"")})}),this.dragArea.forEach(t=>{t.addEventListener("touchend",t=>{this.isDragging&&this.handleTouchDrop(t)}),t.addEventListener("touchstart",t=>{this.isDragging&&this.handleTouchDrop(t)})}),document.addEventListener("touchmove",t=>{if(this.isDragging){try{t.preventDefault()}catch(t){}let e=t.touches[0];this.updateGhostPosition(e.clientX,e.clientY)}}),document.addEventListener("touchend",t=>{this.isDragging&&this.handleTouchDrop(t)})}setupDragEvents(){document.querySelectorAll(".drag-img .drag-item").forEach(t=>{t.setAttribute("draggable","true"),t.addEventListener("dragstart",t=>{var e;let i=t.target.getAttribute("data-img-type");null==(e=t.dataTransfer)||e.setData("text/plain",i||"")})}),this.dragArea.forEach(t=>{t.addEventListener("dragover",t=>{t.preventDefault()}),t.addEventListener("drop",t=>{t.preventDefault();let e=t.target.closest(".num-data-content");if(e&&t.dataTransfer){let i=t.dataTransfer.getData("text/plain");this.addImageSpan(e,i,this.currentGraphData)}})})}startTouchDrag(t,e,i){this.isDragging=!0,this.dragData=i,this.createGhostElement(t,e,i)}handleTouchDrop(t){let e=t.changedTouches[0],i=document.elementFromPoint(e.clientX,e.clientY),s=null==i?void 0:i.closest(".num-data-content");s&&this.addImageSpan(s,this.dragData||"",this.currentGraphData),this.isDragging=!1,this.dragData=null,this.removeGhostElement()}createGhostElement(t,e,i){let s=document.createElement("div");s.id="drag-ghost",s.style.cssText=`
      position: fixed;
      width: 56px;
      height: 56px;
      background: url('./images/choice_${i}_0.png') no-repeat;
      background-size: 56px 56px;
      opacity: 0.7;
      pointer-events: none;
      z-index: 9999;
      left: ${t-28}px;
      top: ${e-28}px;
    `,document.body.appendChild(s)}removeGhostElement(){let t=document.getElementById("drag-ghost");t&&document.body.removeChild(t)}updateGhostPosition(t,e){let i=document.getElementById("drag-ghost");i&&(i.style.left=t-28+"px",i.style.top=e-28+"px")}addImageSpan(t,e,i){var s;let r=document.createElement("span");r.setAttribute("data-img",e),r.setAttribute("data-num",`${null==(s=i.pictureGraphData)?void 0:s.selectedImageIndex}`),r.className=e,r.classList.add("drag-img-item"),r.addEventListener("click",()=>{this.removeImageSpan(r)}),t.appendChild(r)}removeImageSpan(t){t.remove()}createDragImgBox(t){var e,i,s,r,a,o,n,l,d,h,u,c,p,m,g;this.currentGraphData=t;let b=document.createElement("div");b.className="drag-img-box disabled";let v=document.createElement("div");v.className="drag-img drag-img-big";let w=document.createElement("div");w.className=`drag-item big-img-${null==(e=t.pictureGraphData)?void 0:e.selectedImageIndex}`,w.setAttribute("data-img-type","big");let S=document.createElement("div"),C=document.createElement("span");C.className="big-value",C.textContent=(null==(s=t.pictureGraphData)||null==(i=s.imageUnitValues[2])?void 0:i.value)||"100";let A=document.createElement("span");A.className="unit-bottom big-unit",S.appendChild(C),S.appendChild(A),v.appendChild(w),v.appendChild(S),(null==(a=t.pictureGraphData)||null==(r=a.imageUnitValues[2])?void 0:r.value)==="0"&&v.classList.add("remove");let y=document.createElement("div");y.className="drag-img drag-img-medium";let f=document.createElement("div");f.className=`drag-item medium-img-${null==(o=t.pictureGraphData)?void 0:o.selectedImageIndex}`,f.setAttribute("data-img-type","medium");let x=document.createElement("div"),E=document.createElement("span");E.className="medium-value",E.textContent=(null==(l=t.pictureGraphData)||null==(n=l.imageUnitValues[1])?void 0:n.value)||"50";let D=document.createElement("span");D.className="unit-bottom medium-unit",x.appendChild(E),x.appendChild(D),y.appendChild(f),y.appendChild(x),(null==(h=t.pictureGraphData)||null==(d=h.imageUnitValues[1])?void 0:d.value)==="0"&&y.classList.add("remove");let L=document.createElement("div");L.className="drag-img drag-img-small";let B=document.createElement("div");B.className=`drag-item small-img-${null==(u=t.pictureGraphData)?void 0:u.selectedImageIndex}`,B.setAttribute("data-img-type","small");let G=document.createElement("div"),M=document.createElement("span");M.className="small-value",M.textContent=(null==(p=t.pictureGraphData)||null==(c=p.imageUnitValues[0])?void 0:c.value)||"1";let k=document.createElement("span");return k.className="unit-bottom small-unit",G.appendChild(M),G.appendChild(k),L.appendChild(B),L.appendChild(G),(null==(g=t.pictureGraphData)||null==(m=g.imageUnitValues[0])?void 0:m.value)==="0"&&L.classList.add("remove"),b.appendChild(v),b.appendChild(y),b.appendChild(L),this.isMobile?this.setupTouchEventsForBox(b):this.setupDragEventsForBox(b),b}setupTouchEventsForBox(t){t.querySelectorAll(".drag-img .drag-item").forEach(t=>{t.addEventListener("touchstart",e=>{try{e.preventDefault()}catch(t){}let i=e.touches[0],s=t.getAttribute("data-img-type");this.startTouchDrag(i.clientX,i.clientY,s||"")})})}setupDragEventsForBox(t){t.querySelectorAll(".drag-img .drag-item").forEach(t=>{t.setAttribute("draggable","true"),t.addEventListener("dragstart",t=>{var e;let i=t.target.getAttribute("data-img-type");null==(e=t.dataTransfer)||e.setData("text/plain",i||"")})})}setupDropAreas(){this.dragArea=document.querySelectorAll(".column-right .num-data-area"),this.isMobile?this.dragArea.forEach(t=>{t.addEventListener("touchend",t=>{this.isDragging&&this.handleTouchDrop(t)}),t.addEventListener("touchstart",t=>{this.isDragging&&this.handleTouchDrop(t)})}):this.dragArea.forEach(t=>{t.addEventListener("dragover",t=>{t.preventDefault()}),t.addEventListener("drop",t=>{t.preventDefault();let e=t.target.closest(".num-data-content");if(e&&t.dataTransfer){let i=t.dataTransfer.getData("text/plain");this.addImageSpan(e,i,this.currentGraphData)}})})}constructor(){(0,s._)(this,"dragArea",void 0),(0,s._)(this,"isDragging",!1),(0,s._)(this,"dragData",null),(0,s._)(this,"isMobile",void 0),(0,s._)(this,"currentGraphData",null),this.isMobile=this.detectMobile(),this.dragArea=document.querySelectorAll(".column-right .num-data-area"),this.init()}}class x{createPictureGraph(t){var e,i,s,r;let a=document.querySelector(".show-graph"),o=a.querySelector(".img-graph-data"),n=document.querySelector(".setting-graph");o.innerHTML="";let l=document.createElement("div");l.className="img-graph-container";let d=document.createElement("div");d.className="img-graph-column",d.className="column-left";let h=document.createElement("div");h.className="sub-title-top",h.textContent=t.subTitles.top||"상단 제목",d.appendChild(h);for(let i=0;i<t.dataItems.length;i++){let s=document.createElement("div");s.className="num-data-item-title";let r=(null==(e=t.dataItems[i])?void 0:e.label)||`\u{D56D}\u{BAA9}${i+1}`;if(r.length>16)s.textContent=r.substring(0,16);else if(r.length>8){let t=r.substring(0,8),e=r.substring(8);s.innerHTML=`${t}<br>${e}`}else s.textContent=r;d.appendChild(s)}let u=document.createElement("div");u.className="img-graph-column",u.className="column-right";let c=document.createElement("div");c.className="sub-title-bottom",c.textContent=t.subTitles.bottom||"하단 제목",u.appendChild(c);for(let e=0;e<t.dataItems.length;e++){let a=document.createElement("div");a.className="num-data-area";let o=document.createElement("div");if(o.className="num-data-content",null==(i=t.pictureGraphData)?void 0:i.imageUnitValues){let{imageUnitValues:i}=t.pictureGraphData,a=(null==(s=t.dataItems[e])?void 0:s.value)||0;for(let e of i.map((t,e)=>({value:Number(t.value)||0,originalIndex:e,className:0===e?"small":1===e?"medium":"big"})).filter(t=>t.value>0).sort((t,e)=>e.value-t.value)){let i=Math.floor(a/e.value);a-=i*e.value;for(let s=0;s<i;s++){let i=document.createElement("span");i.className=`value-img value-img-${e.className}-${null==(r=t.pictureGraphData)?void 0:r.selectedImageIndex}`,o.appendChild(i)}}}a.appendChild(o),u.appendChild(a)}l.appendChild(d),l.appendChild(u),o.appendChild(l);let p=l.querySelector(".drag-img-box");p&&p.remove();let m=this.dragImg.createDragImgBox(t);l.appendChild(m),this.dragImg.setupDropAreas();let g=document.querySelector(".img-graph-title");g&&(g.textContent=t.title),document.querySelectorAll(".unit-bottom").forEach(e=>{e.textContent=t.unitValues.bottom||""}),this.setupGraphValues(t),n.classList.add("remove"),a.classList.remove("remove")}setupGraphValues(t){if(t.pictureGraphData){let{imageUnitValues:e}=t.pictureGraphData,i=document.querySelector(".big-value"),s=document.querySelector(".medium-value"),r=document.querySelector(".small-value");r&&e[0]&&(r.textContent=e[0].value),s&&e[1]&&(s.textContent=e[1].value),i&&e[2]&&(i.textContent=e[2].value)}}constructor(t){(0,s._)(this,"dragImg",void 0),this.dragImg=t}}class E{createBarColGraph(t){let e=t.dataItems.map(t=>t.value),i=t.dataItems.map(t=>t.label),s=document.getElementById("graphSvg");if(!s)return;s.innerHTML="";let r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("x","156"),r.setAttribute("y","470"),r.setAttribute("width","950"),r.setAttribute("height","65"),r.setAttribute("fill","#fffbe2"),r.setAttribute("class","bottom-bg"),s.appendChild(r);let a=document.querySelector(".show-bar-graph .bar-graph-title");a&&(a.textContent=t.title);let o=document.querySelector(".svg-graph-container .graph-unit-top");o&&(o.textContent=`(${t.unitValues.bottom})`);let n=document.querySelector(".svg-graph-container .graph-sub-title-top");n&&(n.textContent=t.subTitles.top);let l=document.querySelector(".svg-graph-container .graph-sub-title-bottom");l&&(l.textContent=t.subTitles.bottom);let d=this.calculateGridInfo(e);this.createSVGGraph(e,i,d);let h=document.querySelector(".setting-graph"),u=document.querySelector(".show-graph");h&&u&&(h.classList.add("remove"),u.classList.remove("remove"))}calculateGridInfo(t){let e,i,s=Math.max(...t),r=this.roundUpToNearest(s);return r<=100?(e=Math.ceil(r/10),i=1):r<=200?(e=Math.ceil(r/20),i=2):r<=400?(e=Math.ceil(r/50),i=5):r<=800?(e=Math.ceil(r/100),i=10):(e=Math.ceil(r/100),i=20),{maxValue:r,gridLines:e,gridSize:i}}roundUpToNearest(t){return t<=100?10*Math.ceil(t/10):t<=200?20*Math.ceil(t/20):t<=400?50*Math.ceil(t/50):t<=800?100*Math.ceil(t/100):100*Math.ceil(t/100)}createSVGGraph(t,e,i){let s=document.getElementById("graphSvg");if(!s)return;let r={top:0,right:0,bottom:60,left:150},a=t.map(t=>t/i.maxValue*(530-r.top-r.bottom)),o=(1100-r.left-r.right)/t.length-100;this.currentDataLength=t.length,this.currentBarWidth=o,this.currentBarSpacing=100;let n=t.length*o+(t.length-1)*100;this.currentStartX=r.left+(1100-r.left-r.right-n)/2;let l=document.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("x",(r.left+6).toString()),l.setAttribute("y",r.top.toString()),l.setAttribute("width",(1100-r.left-r.right).toString()),l.setAttribute("height",(530-r.top-r.bottom).toString()),l.setAttribute("fill","white"),l.setAttribute("stroke","none"),s.appendChild(l),this.createGrid(i);let d=this.currentStartX;t.forEach((i,n)=>{let l=a[n],h=d+n*(o+100),u=530-r.bottom-l,c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("x",h.toString()),c.setAttribute("y",u.toString()),c.setAttribute("width",o.toString()),c.setAttribute("height",l.toString()),c.setAttribute("fill","#FFBEE1"),c.setAttribute("class",`graph-bar-${t.length}`),c.setAttribute("data-index",n.toString()),c.setAttribute("data-value",i.toString()),c.setAttribute("style","z-index: 1;"),s.appendChild(c);let p=document.createElementNS("http://www.w3.org/2000/svg","text");if(p.setAttribute("x",(h+o/2).toString()),p.setAttribute("y",(530-r.bottom+20).toString()),p.setAttribute("text-anchor","middle"),p.setAttribute("dominant-baseline","middle"),p.setAttribute("fill","#333"),p.setAttribute("font-size","14"),p.setAttribute("class","graph-label"),p.textContent=e[n]||`\u{D56D}\u{BAA9}${n+1}`,s.appendChild(p),n<t.length-1){let t=document.createElementNS("http://www.w3.org/2000/svg","line"),e=h+o+50;t.setAttribute("x1",e.toString()),t.setAttribute("y1",r.top.toString()),t.setAttribute("x2",e.toString()),t.setAttribute("y2",(530-r.bottom+65).toString()),t.setAttribute("stroke","#F3DFB7"),t.setAttribute("stroke-width","2"),s.appendChild(t)}})}createGrid(t){var e;let i,s,r=document.getElementById("graphSvg");if(!r)return;let a={top:0,right:0,bottom:60,left:150},o=document.querySelector(".gradation-dropdown-btn"),n=(null==o||null==(e=o.textContent)?void 0:e.trim())||"";if("자동 계산"===n)t.maxValue<=100?(i=10,s=1):t.maxValue<=200?(i=20,s=2):t.maxValue<=400?(i=50,s=5):t.maxValue<=800?(i=100,s=10):(i=100,s=20);else{let e=parseInt(n);isNaN(e)?(i=100,s=20):(t.maxValue<=100?i=10:t.maxValue<=200?i=20:t.maxValue<=400?i=50:(t.maxValue,i=100),s=e)}let l=[];for(let e=0;e<=t.maxValue;e+=i){let i=a.top+(t.maxValue-e)/t.maxValue*(530-a.top-a.bottom),s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",(a.left+6).toString()),s.setAttribute("y1",i.toString()),s.setAttribute("x2",(1100-a.right+6).toString()),s.setAttribute("y2",i.toString()),s.setAttribute("stroke","#56D0FB"),s.setAttribute("stroke-width","2"),r.appendChild(s);let o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",a.left.toString()),o.setAttribute("y",i.toString()),o.setAttribute("text-anchor","end"),o.setAttribute("dominant-baseline","middle"),o.setAttribute("fill","#333"),o.setAttribute("font-size","16"),o.setAttribute("class","grid-label"),o.textContent=e.toString(),l.push(o),r.appendChild(o)}l.length>0&&(l[0].classList.add("grid-label-first"),l[l.length-1].classList.add("grid-label-last"));for(let e=0;e<=t.maxValue;e+=s){if(e%i==0)continue;let s=a.top+(t.maxValue-e)/t.maxValue*(530-a.top-a.bottom),o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",(a.left+6).toString()),o.setAttribute("y1",s.toString()),o.setAttribute("x2",(1100-a.right+6).toString()),o.setAttribute("y2",s.toString()),o.setAttribute("stroke","#C2F4FF"),o.setAttribute("stroke-width","1"),r.appendChild(o)}let d=document.createElementNS("http://www.w3.org/2000/svg","line");d.setAttribute("x1",(a.left+6).toString()),d.setAttribute("y1",a.top.toString()),d.setAttribute("x2",(a.left+6).toString()),d.setAttribute("y2",(530-a.bottom+65).toString()),d.setAttribute("stroke","#F3DFB7"),d.setAttribute("stroke-width","2"),r.appendChild(d);let h=document.createElementNS("http://www.w3.org/2000/svg","line");h.setAttribute("x1",(a.left-156).toString()),h.setAttribute("y1",(530-a.bottom).toString()),h.setAttribute("x2",(1100-a.right+6).toString()),h.setAttribute("y2",(530-a.bottom).toString()),h.setAttribute("stroke","#F3DFB7"),h.setAttribute("stroke-width","2"),r.appendChild(h);let u=document.createElementNS("http://www.w3.org/2000/svg","polygon");u.setAttribute("points","155,471 155,530 -1,530"),u.setAttribute("fill","#fffbe2"),r.appendChild(u);let c=document.createElementNS("http://www.w3.org/2000/svg","line");c.setAttribute("x1",(a.left+6).toString()),c.setAttribute("y1",(530-a.bottom).toString()),c.setAttribute("x2","0"),c.setAttribute("y2","530"),c.setAttribute("stroke","#F3DFB7"),c.setAttribute("stroke-width","2"),r.appendChild(c)}toggleGraphBars(){let t=document.querySelectorAll(`.graph-bar-${this.currentDataLength}`),e=document.querySelectorAll(".custom-graph-bar");this.isGraphHidden?(t.forEach(t=>{t.classList.remove("hidden")}),e.forEach(t=>{t.classList.add("hidden")}),this.isGraphHidden=!1):(t.forEach(t=>{t.classList.add("hidden")}),e.forEach(t=>{t.classList.remove("hidden")}),this.isGraphHidden=!0)}hideCustomBars(){document.querySelectorAll(".custom-graph-bar").forEach(t=>{t.remove()})}reset(){this.isGraphHidden=!1,this.isDrawMode=!1,this.hideCustomBars(),this.removeDrawMode()}toggleDrawMode(){this.isDrawMode=!this.isDrawMode,this.isDrawMode?this.setupDrawMode():this.removeDrawMode()}setupDrawMode(){let t=document.getElementById("graphSvg");t&&(t.addEventListener("click",this.handleSvgClick.bind(this)),t.style.cursor="pointer")}removeDrawMode(){let t=document.getElementById("graphSvg");t&&(t.removeEventListener("click",this.handleSvgClick.bind(this)),t.style.cursor="default")}handleSvgClick(t){if(!this.isDrawMode)return;let e=document.getElementById("graphSvg");if(!e)return;let i=e.getBoundingClientRect(),s=t.clientX-i.left,r=t.clientY-i.top;i.width;let a=r*(530/i.height),o={top:0,bottom:60},n=530-o.top-o.bottom;if(a<o.top||a>530-o.bottom)return;let l=Math.max(0,Math.min(1e3,Math.round((1-(a-o.top)/n)*1e3))),d=document.querySelectorAll(`.graph-bar-${this.currentDataLength}`),h=-1,u=0,c=0;for(let t=0;t<d.length;t++){let e=d[t],r=e.getBoundingClientRect(),a=r.left-i.left,o=r.right-i.left,n=parseInt(e.getAttribute("data-index")||"0");if(s>=a&&s<=o){h=n,u=parseFloat(e.getAttribute("x")||"0"),c=parseFloat(e.getAttribute("width")||"0");break}}-1!==h&&this.createCustomBar(h,l,u,c)}createCustomBar(t,e,i,s){let r=document.getElementById("graphSvg");if(!r)return;let a=r.querySelector(`[data-custom-index="${t}"]`);a&&a.remove();let o={top:0,bottom:60},n=e/1e3*(530-o.top-o.bottom),l=530-o.bottom-n,d=document.createElementNS("http://www.w3.org/2000/svg","rect");d.setAttribute("x",i.toString()),d.setAttribute("y",l.toString()),d.setAttribute("width",s.toString()),d.setAttribute("height",n.toString()),d.setAttribute("fill","#4A90E2"),d.setAttribute("class",`custom-graph-bar graph-bar-${this.currentDataLength}`),d.setAttribute("data-custom-index",t.toString()),d.setAttribute("data-value",e.toString()),d.setAttribute("style","z-index: 2;"),r.appendChild(d)}constructor(){(0,s._)(this,"isGraphHidden",!1),(0,s._)(this,"customBars",[]),(0,s._)(this,"isDrawMode",!1),(0,s._)(this,"currentDataLength",0),(0,s._)(this,"currentBarWidth",0),(0,s._)(this,"currentBarSpacing",0),(0,s._)(this,"currentStartX",0)}}class D{createBarRowGraph(t){let e=t.dataItems.map(t=>t.value),i=t.dataItems.map(t=>t.label),s=document.getElementById("graphSvg");if(!s)return;s.innerHTML="";let r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("x","-6"),r.setAttribute("y","0"),r.setAttribute("width","162"),r.setAttribute("height","470"),r.setAttribute("fill","#fffbe2"),r.setAttribute("class","bottom-bg"),s.appendChild(r);let a=document.querySelector(".show-bar-graph .bar-graph-title");a&&(a.textContent=t.title);let o=document.querySelector(".svg-graph-container .graph-unit-top");o&&(o.textContent=`(${t.unitValues.bottom})`);let n=document.querySelector(".svg-graph-container .graph-sub-title-top");n&&(n.textContent=t.subTitles.top);let l=document.querySelector(".svg-graph-container .graph-sub-title-bottom");l&&(l.textContent=t.subTitles.bottom);let d=this.calculateGridInfo(e);this.createSVGGraph(e,i,d);let h=document.querySelector(".setting-graph"),u=document.querySelector(".show-graph");h&&u&&(h.classList.add("remove"),u.classList.remove("remove"))}calculateGridInfo(t){let e,i,s=Math.max(...t),r=this.roundUpToNearest(s);return r<=100?(e=Math.ceil(r/10),i=1):r<=200?(e=Math.ceil(r/20),i=2):r<=400?(e=Math.ceil(r/50),i=5):r<=800?(e=Math.ceil(r/100),i=10):(e=Math.ceil(r/100),i=20),{maxValue:r,gridLines:e,gridSize:i}}roundUpToNearest(t){return t<=100?10*Math.ceil(t/10):t<=200?20*Math.ceil(t/20):t<=400?50*Math.ceil(t/50):t<=800?100*Math.ceil(t/100):100*Math.ceil(t/100)}createSVGGraph(t,e,i){let s=document.getElementById("graphSvg");if(!s)return;let r={top:0,bottom:60,left:150},a=t.map(t=>t/i.maxValue*950),o=(530-r.top-r.bottom)/t.length-20;this.currentDataLength=t.length,this.currentBarHeight=o,this.currentBarSpacing=20;let n=t.length*o+(t.length-1)*20;this.currentStartY=r.top+(530-r.top-r.bottom-n)/2;let l=document.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("x",(r.left+6).toString()),l.setAttribute("y",r.top.toString()),l.setAttribute("width","950"),l.setAttribute("height",(530-r.top-r.bottom).toString()),l.setAttribute("fill","white"),l.setAttribute("stroke","none"),s.appendChild(l),this.createGrid(i);let d=this.currentStartY;t.forEach((i,n)=>{let l=a[n];r.left;let h=d+n*(o+20),u=document.createElementNS("http://www.w3.org/2000/svg","rect");u.setAttribute("x",(r.left+6).toString()),u.setAttribute("y",h.toString()),u.setAttribute("width",l.toString()),u.setAttribute("height",o.toString()),u.setAttribute("fill","#FFBEE1"),u.setAttribute("class",`graph-bar-${t.length}`),u.setAttribute("data-index",n.toString()),u.setAttribute("data-value",i.toString()),u.setAttribute("style","z-index: 1;"),s.appendChild(u);let c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttribute("x","74"),c.setAttribute("y",(h+o/2).toString()),c.setAttribute("text-anchor","middle"),c.setAttribute("dominant-baseline","central"),c.setAttribute("fill","#333"),c.setAttribute("font-size","14"),c.setAttribute("class","graph-label");let p=(e[n]||`\u{D56D}\u{BAA9}${n+1}`).split(""),m=[];for(let t=0;t<p.length;t+=6)m.push(p.slice(t,t+6).join(""));let g=-(1.2*m.length-1.2)/2;if(m.forEach((t,e)=>{let i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttribute("x","74"),i.setAttribute("dy",0===e?g+"em":"1.2em"),i.textContent=t,c.appendChild(i)}),s.appendChild(c),n<t.length-1){let t=document.createElementNS("http://www.w3.org/2000/svg","line"),e=h+o+10;t.setAttribute("x1",(r.left-156).toString()),t.setAttribute("y1",e.toString()),t.setAttribute("x2",(r.left+6+950).toString()),t.setAttribute("y2",e.toString()),t.setAttribute("stroke","#F3DFB7"),t.setAttribute("stroke-width","2"),s.appendChild(t)}})}createGrid(t){var e;let i,s,r=document.getElementById("graphSvg");if(!r)return;let a={top:0,bottom:60,left:150},o=document.querySelector(".gradation-dropdown-btn"),n=(null==o||null==(e=o.textContent)?void 0:e.trim())||"";if("자동 계산"===n)t.maxValue<=100?(i=10,s=1):t.maxValue<=200?(i=20,s=2):t.maxValue<=400?(i=50,s=5):t.maxValue<=800?(i=100,s=10):(i=100,s=20);else{let e=parseInt(n);isNaN(e)?(i=100,s=20):(t.maxValue<=100?i=10:t.maxValue<=200?i=20:t.maxValue<=400?i=50:(t.maxValue,i=100),s=e)}let l=[];for(let e=0;e<=t.maxValue;e+=i){let i=a.left+6+e/t.maxValue*950,s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",i.toString()),s.setAttribute("y1",a.top.toString()),s.setAttribute("x2",i.toString()),s.setAttribute("y2",(530-a.bottom).toString()),s.setAttribute("stroke","#56D0FB"),s.setAttribute("stroke-width","2"),r.appendChild(s);let o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",i.toString()),o.setAttribute("y",(530-a.bottom+20).toString()),o.setAttribute("text-anchor","middle"),o.setAttribute("dominant-baseline","top"),o.setAttribute("fill","#333"),o.setAttribute("font-size","16"),o.setAttribute("class","grid-label"),o.textContent=e.toString(),l.push(o),r.appendChild(o)}l.length>0&&(l[0].classList.add("grid-label-first"),l[l.length-1].classList.add("grid-label-last"));for(let e=0;e<=t.maxValue;e+=s){if(e%i==0)continue;let s=a.left+6+e/t.maxValue*950,o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",s.toString()),o.setAttribute("y1",a.top.toString()),o.setAttribute("x2",s.toString()),o.setAttribute("y2",(530-a.bottom).toString()),o.setAttribute("stroke","#C2F4FF"),o.setAttribute("stroke-width","1"),r.appendChild(o)}let d=document.createElementNS("http://www.w3.org/2000/svg","line");d.setAttribute("x1",(a.left-156).toString()),d.setAttribute("y1",(530-a.bottom).toString()),d.setAttribute("x2",(a.left+6+950).toString()),d.setAttribute("y2",(530-a.bottom).toString()),d.setAttribute("stroke","#F3DFB7"),d.setAttribute("stroke-width","2"),r.appendChild(d);let h=document.createElementNS("http://www.w3.org/2000/svg","line");h.setAttribute("x1",(a.left+6).toString()),h.setAttribute("y1",a.top.toString()),h.setAttribute("x2",(a.left+6).toString()),h.setAttribute("y2",(530-a.bottom+65).toString()),h.setAttribute("stroke","#F3DFB7"),h.setAttribute("stroke-width","2"),r.appendChild(h);let u=document.createElementNS("http://www.w3.org/2000/svg","polygon");u.setAttribute("points","-6,530 156,471 -6,471"),u.setAttribute("fill","#fffbe2"),r.appendChild(u);let c=document.createElementNS("http://www.w3.org/2000/svg","line");c.setAttribute("x1",(a.left+6).toString()),c.setAttribute("y1",(530-a.bottom).toString()),c.setAttribute("x2","-6"),c.setAttribute("y2","530"),c.setAttribute("stroke","#F3DFB7"),c.setAttribute("stroke-width","2"),r.appendChild(c)}toggleGraphBars(){let t=document.querySelectorAll(`.graph-bar-${this.currentDataLength}`),e=document.querySelectorAll(".custom-graph-bar");this.isGraphHidden?(t.forEach(t=>{t.classList.remove("hidden")}),e.forEach(t=>{t.classList.add("hidden")}),this.isGraphHidden=!1):(t.forEach(t=>{t.classList.add("hidden")}),e.forEach(t=>{t.classList.remove("hidden")}),this.isGraphHidden=!0)}hideCustomBars(){document.querySelectorAll(".custom-graph-bar").forEach(t=>{t.remove()})}reset(){this.isGraphHidden=!1,this.isDrawMode=!1,this.hideCustomBars(),this.removeDrawMode()}toggleDrawMode(){this.isDrawMode=!this.isDrawMode,this.isDrawMode?this.setupDrawMode():this.removeDrawMode()}setupDrawMode(){let t=document.getElementById("graphSvg");t&&(t.addEventListener("click",this.handleSvgClick.bind(this)),t.style.cursor="pointer")}removeDrawMode(){let t=document.getElementById("graphSvg");t&&(t.removeEventListener("click",this.handleSvgClick.bind(this)),t.style.cursor="default")}handleSvgClick(t){var e;if(!this.isDrawMode)return;let i=document.getElementById("graphSvg");if(!i)return;let s=i.createSVGPoint();s.x=t.clientX,s.y=t.clientY;let r=s.matrixTransform(null==(e=i.getScreenCTM())?void 0:e.inverse()),a=r.x,o=r.y,n={right:0,left:150};if(n.left,n.right,a<n.left+6||a>n.left+6+950)return;let l=Math.max(0,Math.min(1e3,Math.round(1e3*((a-n.left-6)/950)))),d=document.querySelectorAll(`.graph-bar-${this.currentDataLength}`),h=-1,u=0,c=0;for(let t=0;t<d.length;t++){let e=d[t],i=parseInt(e.getAttribute("data-index")||"0"),s=parseFloat(e.getAttribute("y")||"0"),r=parseFloat(e.getAttribute("height")||"0");if(o>=s-5&&o<=s+r+5){h=i,u=s,c=r;break}}-1!==h&&this.createCustomBar(h,l,u,c)}createCustomBar(t,e,i,s){let r=document.getElementById("graphSvg");if(!r)return;let a=r.querySelector(`[data-custom-index="${t}"]`);a&&a.remove();let o=e/1e3*950,n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x","156"),n.setAttribute("y",i.toString()),n.setAttribute("width",o.toString()),n.setAttribute("height",s.toString()),n.setAttribute("fill","#4A90E2"),n.setAttribute("class",`custom-graph-bar graph-bar-${this.currentDataLength}`),n.setAttribute("data-custom-index",t.toString()),n.setAttribute("data-value",e.toString()),n.setAttribute("style","z-index: 2;"),r.appendChild(n)}constructor(){(0,s._)(this,"isGraphHidden",!1),(0,s._)(this,"customBars",[]),(0,s._)(this,"isDrawMode",!1),(0,s._)(this,"currentDataLength",0),(0,s._)(this,"currentBarHeight",0),(0,s._)(this,"currentBarSpacing",0),(0,s._)(this,"currentStartY",0)}}class L{createPolygonalLineGraph(t){let e=t.dataItems.map(t=>t.value),i=t.dataItems.map(t=>t.label);0===this.originalData.length&&(this.originalData=[...e],this.originalLabels=[...i]);let s=document.getElementById("graphSvg");if(!s)return;s.innerHTML="";let r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("x","156"),r.setAttribute("y","470"),r.setAttribute("width","950"),r.setAttribute("height","65"),r.setAttribute("fill","#fffbe2"),r.setAttribute("class","bottom-bg"),s.appendChild(r);let a=document.querySelector(".show-bar-graph .bar-graph-title");a&&(a.textContent=t.title);let o=document.querySelector(".svg-graph-container .graph-unit-top");o&&(o.textContent=`(${t.unitValues.bottom})`);let n=document.querySelector(".svg-graph-container .graph-unit-bottom");n&&(n.textContent=`(${t.unitValues.top})`);let l=document.querySelector(".svg-graph-container .graph-sub-title-top");l&&(l.textContent=t.subTitles.top);let d=document.querySelector(".svg-graph-container .graph-sub-title-bottom");d&&(d.textContent=t.subTitles.bottom);let h=this.calculateGridInfo(e);this.originalGridInfo||(this.originalGridInfo={...h}),this.createSVGGraph(e,i,h);let u=document.querySelector(".setting-graph"),c=document.querySelector(".show-graph");u&&c&&(u.classList.add("remove"),c.classList.remove("remove")),this.checkWaveModeCondition()}calculateGridInfo(t){var e;let i,s,r=Math.max(...t),a=this.roundUpToNearest(r),o=document.querySelector(".gradation-dropdown-btn"),n=(null==o||null==(e=o.textContent)?void 0:e.trim())||"";if("자동 계산"===n)a<=100?(i=Math.ceil(a/10),s=1):a<=200?(i=Math.ceil(a/20),s=2):a<=400?(i=Math.ceil(a/50),s=5):a<=800?(i=Math.ceil(a/100),s=10):(i=Math.ceil(a/100),s=20);else{let t=parseInt(n);i=isNaN(t)?Math.ceil(a/(s=20)):Math.ceil(a/(s=t))}return{maxValue:a,gridLines:i,gridSize:s}}roundUpToNearest(t){return t<=100?10*Math.ceil(t/10):t<=200?20*Math.ceil(t/20):t<=400?50*Math.ceil(t/50):t<=800?100*Math.ceil(t/100):100*Math.ceil(t/100)}createSVGGraph(t,e,i){let s,r,a,o=document.getElementById("graphSvg");if(!o)return;let n=document.querySelectorAll(".grid-label");o.querySelectorAll(".grid-label, .graph-line, .graph-point, .border-line, .grid-line").forEach(t=>t.remove());let l={top:10,right:0,bottom:60,left:150};if(this.isWaveMode){let e=i.gridSize,r=i.maxValue<=100?10:i.maxValue<=200?20:i.maxValue<=400?50:100;e=r<i.gridSize?r:i.gridSize;let a=n.length-1,o=Math.floor(i.maxValue/e),d=530-l.top-l.bottom,h=d/(o/a*(a-1)),u=this.createWaveGridInfo(i);s=t.map(t=>d-(u.maxValue-t)/e*h)}else s=t.map(t=>t/i.maxValue*(530-l.top-l.bottom));r=(1100-l.left-l.right)/(t.length+1),a=l.left+r,this.currentDataLength=t.length,this.currentPointSpacing=r,this.currentStartX=a;let d=document.createElementNS("http://www.w3.org/2000/svg","rect");d.setAttribute("x",(l.left+6).toString()),d.setAttribute("y",l.top.toString()),d.setAttribute("width",(1100-l.left-l.right).toString()),d.setAttribute("height",(530-l.top-l.bottom).toString()),d.setAttribute("fill","white"),d.setAttribute("stroke","none"),o.appendChild(d),this.createGrid(i);let h=[];for(let e=0;e<t.length;e++){let t=a+e*r,i=530-l.bottom-s[e];h.push({x:t,y:i})}if(this.isWaveMode)for(let e=0;e<h.length-1;e++){let i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",h[e].x.toString()),i.setAttribute("y1",h[e].y.toString()),i.setAttribute("x2",h[e+1].x.toString()),i.setAttribute("y2",h[e+1].y.toString()),i.setAttribute("stroke","#FFC0E3"),i.setAttribute("stroke-width","5"),i.setAttribute("class",`graph-line-${t.length} wave-line`),i.setAttribute("data-index",e.toString()),o.appendChild(i)}else for(let e=0;e<h.length-1;e++){let i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",h[e].x.toString()),i.setAttribute("y1",h[e].y.toString()),i.setAttribute("x2",h[e+1].x.toString()),i.setAttribute("y2",h[e+1].y.toString()),i.setAttribute("stroke","#FFC0E3"),i.setAttribute("stroke-width","5"),i.setAttribute("class",`graph-line-${t.length} og-line`),i.setAttribute("data-index",e.toString()),o.appendChild(i)}h.forEach((t,e)=>{let i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",t.x.toString()),i.setAttribute("y1",l.top.toString()),i.setAttribute("x2",t.x.toString()),i.setAttribute("y2",(530-l.bottom).toString()),i.setAttribute("x2",t.x.toString()),i.setAttribute("y2",(530-l.bottom).toString()),i.setAttribute("stroke","#F3DFB7"),i.setAttribute("stroke-width","2"),i.setAttribute("class","border-line"),i.setAttribute("data-border-index",e.toString()),i.setAttribute("data-border-x",t.x.toString()),o.appendChild(i)}),this.isWaveMode?h.forEach((i,s)=>{let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",i.x.toString()),r.setAttribute("cy",i.y.toString()),r.setAttribute("r","4"),r.setAttribute("fill","#000000"),r.setAttribute("class",`graph-point-${t.length} wave-dot`),r.setAttribute("data-index",s.toString()),r.setAttribute("data-value",t[s].toString()),o.appendChild(r);let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("x",i.x.toString()),a.setAttribute("y",(530-l.bottom+20).toString()),a.setAttribute("text-anchor","middle"),a.setAttribute("dominant-baseline","middle"),a.setAttribute("fill","#333"),a.setAttribute("font-size","14"),a.setAttribute("class","graph-label"),a.textContent=e[s]||`\u{D56D}\u{BAA9}${s+1}`,o.appendChild(a)}):h.forEach((i,s)=>{let r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",i.x.toString()),r.setAttribute("cy",i.y.toString()),r.setAttribute("r","4"),r.setAttribute("fill","#000000"),r.setAttribute("class",`graph-point-${t.length} og-dot`),r.setAttribute("data-index",s.toString()),r.setAttribute("data-value",t[s].toString()),o.appendChild(r);let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("x",i.x.toString()),a.setAttribute("y",(530-l.bottom+20).toString()),a.setAttribute("text-anchor","middle"),a.setAttribute("dominant-baseline","middle"),a.setAttribute("fill","#333"),a.setAttribute("font-size","14"),a.setAttribute("class","graph-label"),a.textContent=e[s]||`\u{D56D}\u{BAA9}${s+1}`,o.appendChild(a)})}createGrid(t){var e;let i,s,r=document.getElementById("graphSvg");if(!r)return;let a={top:10,right:0,bottom:60,left:150},o=document.querySelector(".gradation-dropdown-btn"),n=(null==o||null==(e=o.textContent)?void 0:e.trim())||"";if("자동 계산"===n)t.maxValue<=100?(i=10,s=1):t.maxValue<=200?(i=20,s=2):t.maxValue<=400?(i=50,s=5):t.maxValue<=800?(i=100,s=10):(i=100,s=20);else{let e=parseInt(n);isNaN(e)?(i=100,s=20):(t.maxValue<=100?i=10:t.maxValue<=200?i=20:t.maxValue<=400?i=50:(t.maxValue,i=100),s=e)}let l=[];if(this.isWaveMode){let e=[];for(let s=0;s<=t.maxValue;s+=i)s!==i&&e.push(s);e.sort((t,e)=>t-e);for(let t=0;t<e.length;t++){let i=e[t],s=t/(e.length-1),o=a.top+(1-s)*(530-a.top-a.bottom),n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",(a.left+6).toString()),n.setAttribute("y1",o.toString()),n.setAttribute("x2",(1100-a.right+6).toString()),n.setAttribute("y2",o.toString()),n.setAttribute("stroke","#56D0FB"),n.setAttribute("stroke-width","2"),r.appendChild(n);let d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("x",a.left.toString()),d.setAttribute("y",o.toString()),d.setAttribute("text-anchor","end"),d.setAttribute("dominant-baseline","middle"),d.setAttribute("fill","#333"),d.setAttribute("font-size","16"),d.setAttribute("class","grid-label"),d.textContent=i.toString(),l.push(d),r.appendChild(d)}}else for(let e=0;e<=t.maxValue;e+=i){let i=a.top+(t.maxValue-e)/t.maxValue*(530-a.top-a.bottom),s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",(a.left+6).toString()),s.setAttribute("y1",i.toString()),s.setAttribute("x2",(1100-a.right+6).toString()),s.setAttribute("y2",i.toString()),s.setAttribute("stroke","#56D0FB"),s.setAttribute("stroke-width","2"),r.appendChild(s);let o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",a.left.toString()),o.setAttribute("y",i.toString()),o.setAttribute("text-anchor","end"),o.setAttribute("dominant-baseline","middle"),o.setAttribute("fill","#333"),o.setAttribute("font-size","16"),o.setAttribute("class","grid-label"),o.textContent=e.toString(),l.push(o),r.appendChild(o)}if(l.length>0&&(l[0].classList.add("grid-label-first"),l[l.length-1].classList.add("grid-label-last")),this.isWaveMode){let e=[],o=[];for(let e=0;e<=t.maxValue;e+=i)o.push(e);let n=o[1];for(let r=0;r<=t.maxValue;r+=s)r%i==0||r<n||e.push(r);let l=[];for(let e=0;e<=t.maxValue;e+=i)e!==n&&l.push(e);l.sort((t,e)=>e-t);let d=l.length-1;l.length;let h=0;for(let t=0;t<d;t++)for(let t=0;t<e.length;t++){let t=(h+1)/(l[1]/s),e=Math.max(a.top,Math.min(530-a.bottom,a.top+t*(530-a.top-a.bottom))),i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",(a.left+6).toString()),i.setAttribute("y1",e.toString()),i.setAttribute("x2",(1100-a.right+6).toString()),i.setAttribute("y2",e.toString()),i.setAttribute("stroke","#C2F4FF"),i.setAttribute("stroke-width","1"),r.appendChild(i),h++}}else for(let e=0;e<=t.maxValue;e+=s){if(e%i==0)continue;let s=a.top+(t.maxValue-e)/t.maxValue*(530-a.top-a.bottom),o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",(a.left+6).toString()),o.setAttribute("y1",s.toString()),o.setAttribute("x2",(1100-a.right+6).toString()),o.setAttribute("y2",s.toString()),o.setAttribute("stroke","#C2F4FF"),o.setAttribute("stroke-width","1"),r.appendChild(o)}let d=document.createElementNS("http://www.w3.org/2000/svg","line");d.setAttribute("x1",(a.left+6).toString()),d.setAttribute("y1",a.top.toString()),d.setAttribute("x2",(a.left+6).toString()),d.setAttribute("y2",(530-a.bottom+65).toString()),d.setAttribute("stroke","#F3DFB7"),d.setAttribute("stroke-width","2"),r.appendChild(d);let h=document.createElementNS("http://www.w3.org/2000/svg","line");h.setAttribute("x1",(a.left-156).toString()),h.setAttribute("y1",(530-a.bottom).toString()),h.setAttribute("x2",(1100-a.right+6).toString()),h.setAttribute("y2",(530-a.bottom).toString()),h.setAttribute("stroke","#F3DFB7"),h.setAttribute("stroke-width","2"),r.appendChild(h);let u=document.createElementNS("http://www.w3.org/2000/svg","polygon");u.setAttribute("points","155,471 155,530 -1,530"),u.setAttribute("fill","#fffbe2"),r.appendChild(u);let c=document.createElementNS("http://www.w3.org/2000/svg","line");c.setAttribute("x1",(a.left+6).toString()),c.setAttribute("y1",(530-a.bottom).toString()),c.setAttribute("x2","0"),c.setAttribute("y2","530"),c.setAttribute("stroke","#F3DFB7"),c.setAttribute("stroke-width","2"),r.appendChild(c)}toggleGraphLines(){let t=document.querySelectorAll(`.graph-line-${this.currentDataLength}`),e=document.querySelectorAll(`.graph-point-${this.currentDataLength}`),i=document.querySelectorAll(".custom-graph-line"),s=document.querySelectorAll(".custom-graph-point");this.isGraphHidden?(t.forEach(t=>{t.classList.remove("hidden")}),e.forEach(t=>{t.classList.remove("hidden")}),i.forEach(t=>{t.classList.add("hidden")}),s.forEach(t=>{t.classList.add("hidden")}),this.isGraphHidden=!1):(t.forEach(t=>{t.classList.add("hidden")}),e.forEach(t=>{t.classList.add("hidden")}),i.forEach(t=>{t.classList.remove("hidden")}),s.forEach(t=>{t.classList.remove("hidden")}),this.isGraphHidden=!0)}hideCustomPoints(){let t=document.querySelectorAll(".custom-graph-line"),e=document.querySelectorAll(".custom-graph-point");t.forEach(t=>{t.remove()}),e.forEach(t=>{t.remove()})}reset(){this.isGraphHidden=!1,this.isDrawMode=!1,this.hideCustomPoints(),this.removeDrawMode(),this.originalData=[],this.originalLabels=[],this.originalGridInfo=null,this.isWaveMode=!1}toggleDrawMode(){this.isDrawMode=!this.isDrawMode,this.isDrawMode?this.setupDrawMode():this.removeDrawMode()}setupDrawMode(){let t=document.getElementById("graphSvg");t&&(t.addEventListener("click",this.handleSvgClick.bind(this)),t.style.cursor="pointer")}removeDrawMode(){let t=document.getElementById("graphSvg");t&&(t.removeEventListener("click",this.handleSvgClick.bind(this)),t.style.cursor="default")}handleSvgClick(t){if(!this.isDrawMode)return;let e=document.getElementById("graphSvg");if(!e)return;let i=e.getBoundingClientRect(),s=t.clientX-i.left,r=t.clientY-i.top,a=e.viewBox.baseVal,o=a.width/i.width,n=a.height/i.height,l=s*o,d=r*n,h={top:10,right:0,bottom:60,left:150},u=530-h.top-h.bottom,c=h.left+6,p=1100-h.right+6,m=h.top,g=530-h.bottom;if(l<c||l>p||d<m||d>g)return;let b=Math.max(0,Math.min(1e3,Math.round((1-(d-h.top)/u)*1e3))),v=document.querySelectorAll(".border-line"),w=-1,S=0;for(let t=0;t<v.length;t++){let e=v[t],i=parseFloat(e.getAttribute("data-border-x")||"0"),s=parseInt(e.getAttribute("data-border-index")||"0");if(35>=Math.abs(l-i)){w=s,S=i;break}}-1!==w&&this.createCustomPoint(w,b,S,d)}updateCustomLines(){let t=document.getElementById("graphSvg");if(!t)return;t.querySelectorAll(".custom-graph-line").forEach(t=>{t.remove()});let e=t.querySelectorAll(".custom-graph-point"),i=[];e.forEach(t=>{let e=parseFloat(t.getAttribute("cx")||"0"),s=parseFloat(t.getAttribute("cy")||"0"),r=parseInt(t.getAttribute("data-custom-border-index")||"0"),a=parseInt(t.getAttribute("data-value")||"0");i.push({x:e,y:s,index:r,value:a})}),e.forEach(t=>{t.remove()}),i.sort((t,e)=>t.x-e.x);for(let e=0;e<i.length-1;e++){let s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",i[e].x.toString()),s.setAttribute("y1",i[e].y.toString()),s.setAttribute("x2",i[e+1].x.toString()),s.setAttribute("y2",i[e+1].y.toString()),s.setAttribute("stroke","#4A90E2"),s.setAttribute("stroke-width","5"),s.setAttribute("class","custom-graph-line"),t.appendChild(s)}i.forEach(e=>{let i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttribute("cx",e.x.toString()),i.setAttribute("cy",e.y.toString()),i.setAttribute("r","4"),i.setAttribute("fill","#000000"),i.setAttribute("class","custom-graph-point"),i.setAttribute("data-custom-border-index",e.index.toString()),i.setAttribute("data-value",e.value.toString()),t.appendChild(i)})}createCustomPoint(t,e,i,s){let r=document.getElementById("graphSvg");if(!r)return;let a=r.querySelector(`[data-custom-border-index="${t}"]`);a&&a.remove();let o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx",i.toString()),o.setAttribute("cy",s.toString()),o.setAttribute("r","4"),o.setAttribute("fill","#000000"),o.setAttribute("class","custom-graph-point"),o.setAttribute("data-custom-border-index",t.toString()),o.setAttribute("data-value",e.toString()),r.appendChild(o),this.updateCustomLines()}toggleWaveMode(){let t=!1;if(this.isWaveMode||document.querySelectorAll(".grid-label").length>=4){let t=[];if(this.isWaveMode){if(this.originalGridInfo){let e=this.originalGridInfo.maxValue<=100?10:this.originalGridInfo.maxValue<=200?20:this.originalGridInfo.maxValue<=400?50:100;for(let i=0;i<=this.originalGridInfo.maxValue;i+=e)t.push(i)}}else document.querySelectorAll(".grid-label").forEach(e=>{let i=parseInt(e.textContent||"0");t.push(i)});let e=Math.min(...this.originalData);t[2]<=e?(this.isWaveMode=!this.isWaveMode,this.isWaveMode?this.renderWaveGraph():this.renderOriginalGraph()):(this.isWaveMode=!1,this.renderOriginalGraph())}else this.isWaveMode=!1,this.renderOriginalGraph()}renderWaveGraph(){if(!this.originalGridInfo)return;let t=document.getElementById("graphSvg");t&&t.classList.add("wave-mode"),this.createSVGGraph(this.originalData,this.originalLabels,this.originalGridInfo)}renderOriginalGraph(){if(!this.originalGridInfo)return;let t=document.getElementById("graphSvg");t&&t.classList.remove("wave-mode"),this.createSVGGraph(this.originalData,this.originalLabels,this.originalGridInfo)}checkWaveModeCondition(){let t=document.querySelectorAll(".grid-label");if(t.length>=4){let e=[];t.forEach(t=>{let i=parseInt(t.textContent||"0");e.push(i)});let i=Math.min(...this.originalData);if(e[2]<=i){let t=document.querySelector(".btn-wave");t&&t.classList.remove("disabled")}else{let t=document.querySelector(".btn-wave");t&&t.classList.add("disabledKeep")}}}createWaveGridInfo(t){let e;t.maxValue<=100?e=10:t.maxValue<=200?e=20:t.maxValue<=400?e=50:(t.maxValue,e=100);let i=[];for(let s=0;s<=t.maxValue;s+=e)s!==e&&i.push(s);i.sort((t,e)=>t-e);let s=t.maxValue,r=i.length;return{maxValue:s,gridLines:r,gridSize:s/(r-1)}}constructor(){(0,s._)(this,"isGraphHidden",!1),(0,s._)(this,"customPoints",[]),(0,s._)(this,"isDrawMode",!1),(0,s._)(this,"currentDataLength",0),(0,s._)(this,"currentPointSpacing",0),(0,s._)(this,"currentStartX",0),(0,s._)(this,"originalData",[]),(0,s._)(this,"originalLabels",[]),(0,s._)(this,"originalGridInfo",null),(0,s._)(this,"isWaveMode",!1)}}class B{collectGraphData(t,e,i){let s,r,a=document.querySelector(".input-graph-title").value.trim(),o=document.querySelector(".sub-title-top"),n=document.querySelector(".sub-title-bottom"),l={top:o.value.trim(),bottom:n.value.trim()},d=document.querySelector(".unitDropbox-top-value"),h=document.querySelector(".unitDropbox-bottom-value"),u={top:(null==d?void 0:d.textContent)||"",bottom:(null==h?void 0:h.textContent)||""},c=[];document.querySelectorAll(".num-data-box-item").forEach(t=>{let e=t.querySelector(".num-data-top"),i=t.querySelector(".num-data-bottom"),s=e.value.trim(),r=parseInt(i.value)||0;c.push({label:s,value:r})});let p=parseInt(document.querySelector(".total-box-value").textContent||"0")||0;if(t){let t=this.imageSelector.getSelectedImageIndex(),e=[];document.querySelectorAll(".image-dropdown-btn").forEach((t,i)=>{let s=t.textContent||"";e.push({size:0===i?"small":1===i?"medium":"large",value:s})}),s={selectedImageIndex:t,imageUnitValues:e}}return(e||i)&&(r={selectedValue:document.querySelector(".gradation-dropdown-btn").textContent||""}),{title:a,subTitles:l,unitValues:u,dataItems:c,totalValue:p,pictureGraphData:s,gradationData:r}}constructor(t){(0,s._)(this,"imageSelector",void 0),this.imageSelector=t}}class G{setupEventListeners(){this.miniTableBtn.addEventListener("click",()=>{this.showMiniTable()}),this.miniTableCloseBtn.addEventListener("click",()=>{this.hideMiniTable()})}showMiniTable(){this.miniTableBtn.classList.add("remove"),this.miniTableDataContainer.classList.remove("remove")}hideMiniTable(){this.miniTableDataContainer.classList.add("remove"),this.miniTableBtn.classList.remove("remove")}updateMiniTableData(t){let e=document.querySelector(".mini-table-data");if(!e)return;let i=e.querySelector(".mini-sub-title-top span"),s=e.querySelector(".mini-sub-title-bottom span"),r=e.querySelector(".unit-top"),a=e.querySelector(".unit-bottom");i&&(i.textContent=t.subTitles.top||""),s&&(s.textContent=t.subTitles.bottom||""),r&&(t.unitValues.top&&""!==t.unitValues.top.trim()?(r.textContent=t.unitValues.top,r.classList.remove("remove")):r.classList.add("remove")),a&&(t.unitValues.bottom&&""!==t.unitValues.bottom.trim()?(a.textContent=t.unitValues.bottom,a.classList.remove("remove")):a.classList.add("remove"));let o=e.querySelector(".mini-num-data-box");o&&(o.innerHTML="",t.dataItems.forEach(t=>{let e=document.createElement("div");e.className="mini-num-data-item";let i=document.createElement("div");i.className="mini-num-data-item-title",i.textContent=t.label||"";let s=document.createElement("div");s.className="mini-num-data-item-value",s.textContent=t.value.toString(),e.appendChild(i),e.appendChild(s),o.appendChild(e)}));let n=e.querySelector(".mini-total-value");n&&(n.textContent=t.totalValue.toString())}constructor(){(0,s._)(this,"miniTableBtn",void 0),(0,s._)(this,"miniTableCloseBtn",void 0),(0,s._)(this,"miniTableDataContainer",void 0),this.miniTableBtn=document.querySelector(".btn-mini-tableData"),this.miniTableCloseBtn=document.querySelector(".btn-mini-table-close"),this.miniTableDataContainer=document.querySelector(".mini-table-data-container"),this.setupEventListeners()}}class M{initializeElements(){this.selectGraphs=Array.from(document.querySelectorAll(".btn-graph")),this.choiceGraph=document.querySelector(".choice-graph"),this.settingGraph=document.querySelector(".setting-graph"),this.PictureGraph=document.querySelector(".show-img-graph"),this.inputGraphData=document.querySelector(".input-graph-data"),this.showGraph=document.querySelector(".show-graph"),this.PageResetButton=document.querySelector(".btn-reset-page"),this.SettingGraphApplyButton=document.querySelector(".btn-setting-data"),this.SettingGraphResetButton=document.querySelector(".btn-reset-data"),this.GraphBackDraw=document.querySelector(".show-graph .btn-draw"),this.GraphBackButton=document.querySelector(".show-graph .btn-back"),this.WaveButton=document.querySelector(".show-graph .btn-wave"),this.WaveBg=document.querySelector(".show-graph .wave-bg"),this.numDataBox=document.querySelector(".num-data-box"),this.dataControlAdd=document.querySelector(".btn-add-data"),this.dataControlRemove=document.querySelector(".btn-remove-data"),this.selectImgGraphs=document.querySelector(".setting-img-data"),this.showSettingGradation=document.querySelector(".setting-gradation"),this.BarGraph=document.querySelector(".show-bar-graph")}initializeModules(){this.dropdownManager=new C,this.imageSelector=new A,this.gradationManager=new y,this.dragImg=new f,this.pictureGraphRenderer=new x(this.dragImg),this.barColGraphRenderer=new E,this.barRowGraphRenderer=new D,this.polygonalLineGraphRenderer=new L,this.dataCollector=new B(this.imageSelector),this.miniTableManager=new G}setupEventListeners(){this.PageResetButton.addEventListener("click",()=>{this.resetData(),this.dropdownManager.hideDropdowns(),this.GraphBackDraw.classList.remove("on"),this.WaveButton.classList.add("remove"),this.WaveButton.classList.remove("on"),this.WaveBg.classList.remove("on"),this.GraphBackDraw.classList.remove("disabled"),this.WaveButton.classList.remove("disabled","disabledKeep"),this.choiceGraph.classList.remove("remove"),this.inputGraphData.classList.remove("line-graph"),this.settingGraph.classList.add("remove"),this.showGraph.classList.add("remove"),this.pictureGraphChoice=!1,this.barColGraphChoice=!1,this.barRowGraphChoice=!1,this.polygonalLineGraphChoice=!1,this.miniTableManager.hideMiniTable()}),this.selectGraphs.forEach(t=>{t.addEventListener("click",()=>{this.choiceGraph.classList.add("remove"),this.settingGraph.classList.remove("remove"),this.settingGraphTable(),"picture"===t.dataset.graphType?(this.selectImgGraphs.classList.remove("remove"),this.showSettingGradation.classList.add("remove"),this.pictureGraphChoice=!0,this.barColGraphChoice=!1,this.barRowGraphChoice=!1):"bar-col"===t.dataset.graphType?(this.selectImgGraphs.classList.add("remove"),this.showSettingGradation.classList.remove("remove"),this.pictureGraphChoice=!1,this.barColGraphChoice=!0,this.barRowGraphChoice=!1):"bar-row"===t.dataset.graphType?(this.selectImgGraphs.classList.add("remove"),this.showSettingGradation.classList.remove("remove"),this.pictureGraphChoice=!1,this.barColGraphChoice=!1,this.barRowGraphChoice=!0,this.polygonalLineGraphChoice=!1):"line"===t.dataset.graphType?(this.WaveButton.classList.remove("remove"),this.dropdownManager.showDropdowns(),this.inputGraphData.classList.add("line-graph"),this.selectImgGraphs.classList.add("remove"),this.showSettingGradation.classList.remove("remove"),this.pictureGraphChoice=!1,this.barColGraphChoice=!1,this.barRowGraphChoice=!1,this.polygonalLineGraphChoice=!0):(this.WaveButton.classList.add("remove"),this.dropdownManager.hideDropdowns(),this.inputGraphData.classList.remove("line-graph"),this.selectImgGraphs.classList.add("remove"),this.showSettingGradation.classList.remove("remove"),this.pictureGraphChoice=!1,this.barColGraphChoice=!0,this.barRowGraphChoice=!1,this.polygonalLineGraphChoice=!1)})}),this.SettingGraphApplyButton.addEventListener("click",()=>{this.handleApplyButtonClick()}),this.SettingGraphResetButton.addEventListener("click",()=>{this.resetData()}),this.GraphBackDraw.addEventListener("click",()=>{this.handleDrawButtonClick()}),this.WaveButton.addEventListener("click",()=>{this.handleWaveButtonClick()}),this.GraphBackButton.addEventListener("click",()=>{if(this.GraphBackDraw.classList.remove("on"),this.WaveButton.classList.remove("on"),this.WaveBg.classList.remove("on"),this.GraphBackDraw.classList.remove("disabled"),this.WaveButton.classList.remove("disabled","disabledKeep"),this.settingGraph.classList.remove("remove"),this.showGraph.classList.add("remove"),this.barColGraphChoice&&this.barColGraphRenderer.reset(),this.barRowGraphChoice&&this.barRowGraphRenderer.reset(),this.polygonalLineGraphChoice){this.polygonalLineGraphRenderer.reset();let t=document.getElementById("graphSvg");t&&t.classList.remove("wave-mode")}this.miniTableManager.hideMiniTable()}),this.dataControlAdd.addEventListener("click",()=>{this.addDataBoxItem()}),this.dataControlRemove.addEventListener("click",()=>{this.removeDataBoxItem()});let t=document.querySelector(".btn-alert-close");t&&t.addEventListener("click",()=>{this.hideAlertMessage()})}settingGraphTable(){this.numDataBox.innerHTML="";for(let t=0;t<3;t++){let e=document.createElement("div"),i=document.createElement("span"),s=document.createElement("span"),r=document.createElement("input"),a=document.createElement("input");r.type="text",r.classList.add("num-data-top"),a.type="text",a.value="0",a.classList.add("num-data-bottom"),i.appendChild(r),s.appendChild(a),e.appendChild(i),e.appendChild(s),e.classList.add("num-data-box-item",`num-box-item-${t}`),this.numDataBox.appendChild(e)}this.setupInputEventListeners(),this.updateButtonStates()}setupInputEventListeners(){this.numDataBox.querySelectorAll(".num-data-bottom").forEach(t=>{t.addEventListener("input",t=>{let e=t.target,i=e.value,s=e.getAttribute("data-previous-value")||"0";if(""===i){e.value="0",e.setAttribute("data-previous-value","0"),this.updateTotalBoxValue(),this.updateButtonStates();return}if(""!==i&&!/^\d+$/.test(i)){this.showWarningMessage(`<span class="emp">\u{C22B}\u{C790}</span>\u{B9CC} \u{C785}\u{B825} \u{AC00}\u{B2A5}\u{D569}\u{B2C8}\u{B2E4}.`),e.value=s;return}if(i.startsWith("0")&&i.length>1&&"0"!==i&&(e.value=i.substring(1)),(parseInt(e.value)||0)>1e3){this.showWarningMessage(`1 ~ 1000 \u{C0AC}\u{C774}\u{C758} <span class="emp">\u{C22B}\u{C790}</span>\u{B97C} \u{C785}\u{B825}\u{D574} \u{C8FC}\u{C138}\u{C694}.`),e.value=s;return}e.setAttribute("data-previous-value",e.value),this.updateTotalBoxValue(),this.updateButtonStates()}),t.addEventListener("paste",t=>{t.preventDefault();let e=(t.clipboardData||window.clipboardData).getData("text");if(/^\d+$/.test(e)){let i=t.target;if((parseInt(e)||0)>1e3)return void this.showWarningMessage(`1 ~ 1000 \u{C0AC}\u{C774}\u{C758} <span class="emp">\u{C22B}\u{C790}</span>\u{B97C} \u{C785}\u{B825}\u{D574} \u{C8FC}\u{C138}\u{C694}.`);i.value=e,i.setAttribute("data-previous-value",e),this.updateTotalBoxValue(),this.updateButtonStates()}else this.showWarningMessage(`<span class="emp">\u{C22B}\u{C790}</span>\u{B9CC} \u{BD99}\u{C5EC}\u{B123}\u{AE30} \u{AC00}\u{B2A5}\u{D569}\u{B2C8}\u{B2E4}.`)})})}addDataBoxItem(){let t=this.numDataBox.querySelectorAll(".num-data-box-item").length,e=document.createElement("div"),i=document.createElement("span"),s=document.createElement("span"),r=document.createElement("input"),a=document.createElement("input");r.type="text",r.classList.add("num-data-top"),a.type="text",a.value="0",a.classList.add("num-data-bottom"),i.appendChild(r),s.appendChild(a),e.appendChild(i),e.appendChild(s),e.classList.add("num-data-box-item",`num-box-item-${t}`),this.numDataBox.appendChild(e);let o=e.querySelector(".num-data-bottom");o&&(o.addEventListener("input",t=>{let e=t.target,i=e.value,s=e.getAttribute("data-previous-value")||"0";if(""===i){e.value="0",e.setAttribute("data-previous-value","0"),this.updateTotalBoxValue(),this.updateButtonStates();return}if(""!==i&&!/^\d+$/.test(i)){this.showWarningMessage(`<span class="emp">\u{C22B}\u{C790}</span>\u{B9CC} \u{C785}\u{B825} \u{AC00}\u{B2A5}\u{D569}\u{B2C8}\u{B2E4}.`),e.value=s;return}if(i.startsWith("0")&&i.length>1&&"0"!==i&&(e.value=i.substring(1)),(parseInt(e.value)||0)>1e3){this.showWarningMessage(`1 ~ 1000 \u{C0AC}\u{C774}\u{C758} <span class="emp">\u{C22B}\u{C790}</span>\u{B97C} \u{C785}\u{B825}\u{D574} \u{C8FC}\u{C138}\u{C694}.`),e.value=s;return}e.setAttribute("data-previous-value",e.value),this.updateTotalBoxValue(),this.updateButtonStates()}),o.addEventListener("paste",t=>{t.preventDefault();let e=(t.clipboardData||window.clipboardData).getData("text");if(/^\d+$/.test(e)){let i=t.target;if((parseInt(e)||0)>1e3)return void this.showWarningMessage(`1 ~ 1000 \u{C0AC}\u{C774}\u{C758} <span class="emp">\u{C22B}\u{C790}</span>\u{B97C} \u{C785}\u{B825}\u{D574} \u{C8FC}\u{C138}\u{C694}.`);i.value=e,i.setAttribute("data-previous-value",e),this.updateTotalBoxValue(),this.updateButtonStates()}else this.showWarningMessage(`<span class="emp">\u{C22B}\u{C790}</span>\u{B9CC} \u{BD99}\u{C5EC}\u{B123}\u{AE30} \u{AC00}\u{B2A5}\u{D569}\u{B2C8}\u{B2E4}.`)})),this.updateButtonStates()}removeDataBoxItem(){let t=this.numDataBox.querySelectorAll(".num-data-box-item");t.length>1&&(t[t.length-1].remove(),this.updateTotalBoxValue(),this.updateButtonStates())}updateButtonStates(){let t=this.numDataBox.querySelectorAll(".num-data-box-item"),e=this.calculateTotal();t.length<=1?this.dataControlRemove.classList.add("disabled"):this.dataControlRemove.classList.remove("disabled"),t.length>=6?this.dataControlAdd.classList.add("disabled"):this.dataControlAdd.classList.remove("disabled"),0===e?this.SettingGraphApplyButton.classList.add("disabled"):this.SettingGraphApplyButton.classList.remove("disabled")}calculateTotal(){let t=this.numDataBox.querySelectorAll(".num-data-bottom"),e=0;return t.forEach(t=>{let i=parseInt(t.value)||0;e+=i}),e}updateTotalBoxValue(){let t=this.calculateTotal(),e=document.querySelector(".total-box-value");e&&(e.textContent=t.toString())}showWarningMessage(t){let e=document.querySelector(".alert-container"),i=e.querySelector(".alert-message");i&&(i.innerHTML=t),e.classList.remove("remove")}hideAlertMessage(){document.querySelector(".alert-container").classList.add("remove")}handleApplyButtonClick(){this.SettingGraphApplyButton.classList.toggle("on");let t=this.dataCollector.collectGraphData(this.pictureGraphChoice,this.barColGraphChoice,this.barRowGraphChoice);if(!t.title||""===t.title.trim())return void this.showWarningMessage(`<span class="emp">\u{C81C}\u{BAA9}</span>\u{C744} \u{C785}\u{B825}\u{D574} \u{C8FC}\u{C138}\u{C694}.`);if(t.dataItems.some(t=>!t.label||""===t.label.trim())||!t.subTitles.top||""===t.subTitles.top.trim()||!t.subTitles.bottom||""===t.subTitles.bottom.trim())return void this.showWarningMessage(`<span class="emp">\u{D45C}</span>\u{B97C} \u{C644}\u{C131}\u{D574} \u{C8FC}\u{C138}\u{C694}.`);let e=t.dataItems.some(t=>0===t.value),i=t.dataItems.some(t=>t.value>1e3);if(e||i)return void this.showWarningMessage(`1 ~ 1000 \u{C0AC}\u{C774}\u{C758} <span class="emp">\u{C22B}\u{C790}</span>\u{B97C} \u{C785}\u{B825}\u{D574} \u{C8FC}\u{C138}\u{C694}.`);if(this.pictureGraphChoice&&t.pictureGraphData){if(t.pictureGraphData.imageUnitValues.some(t=>""===t.value))return void this.showWarningMessage(`<span class="emp">\u{B2E8}\u{C704}</span>\u{B97C} \u{C9C0}\u{C815}\u{D574} \u{C8FC}\u{C138}\u{C694}.`);let e=t.pictureGraphData.imageUnitValues[1],i=t.pictureGraphData.imageUnitValues[2];if(e&&i&&"0"===e.value&&"0"===i.value)return void this.showWarningMessage(`<span class="emp">\u{B2E8}\u{C704}</span>\u{B294} <span class="emp">2\u{AC1C} \u{C774}\u{C0C1}</span> \u{C9C0}\u{C815}\u{D574} \u{C8FC}\u{C138}\u{C694}.`);this.pictureGraphRenderer.createPictureGraph(t),this.PictureGraph.classList.remove("remove"),this.BarGraph.classList.add("remove")}else{var s;let e=document.querySelector(".gradation-dropdown-btn");if(""===((null==e||null==(s=e.textContent)?void 0:s.trim())||""))return void this.showWarningMessage(`<span class="emp">\u{B2E8}\u{C704}</span>\u{B97C} \u{C9C0}\u{C815}\u{D574} \u{C8FC}\u{C138}\u{C694}.`);let i=document.querySelector(".svg-graph-container");i&&(i.classList.remove("bar-col-mode","bar-row-mode","polygonal-mode"),this.barColGraphChoice?(i.classList.add("bar-col-mode"),this.barColGraphRenderer.createBarColGraph(t)):this.barRowGraphChoice?(i.classList.add("bar-row-mode"),this.barRowGraphRenderer.createBarRowGraph(t)):this.polygonalLineGraphChoice&&(i.classList.add("polygonal-mode"),this.polygonalLineGraphRenderer.createPolygonalLineGraph(t))),this.PictureGraph.classList.add("remove"),this.BarGraph.classList.remove("remove")}this.miniTableManager.updateMiniTableData(t)}handleDrawButtonClick(){if(this.pictureGraphChoice){let t=document.querySelectorAll(".img-graph-container .num-data-content .value-img"),e=document.querySelectorAll(".img-graph-container .drag-img-item"),i=document.querySelector(".img-graph-container .drag-img-box");this.GraphBackDraw.classList.contains("on")?(this.GraphBackDraw.classList.remove("on"),null==i||i.classList.add("disabled"),t.forEach(t=>{t.classList.remove("remove")}),e.forEach(t=>{t.classList.add("remove")})):(this.GraphBackDraw.classList.add("on"),null==i||i.classList.remove("disabled"),t.forEach(t=>{t.classList.add("remove")}),e.forEach(t=>{t.classList.remove("remove")}))}else this.barColGraphChoice?(this.GraphBackDraw.classList.contains("on")?this.GraphBackDraw.classList.remove("on"):this.GraphBackDraw.classList.add("on"),this.barColGraphRenderer.toggleGraphBars(),this.barColGraphRenderer.toggleDrawMode()):this.barRowGraphChoice?(this.GraphBackDraw.classList.contains("on")?this.GraphBackDraw.classList.remove("on"):this.GraphBackDraw.classList.add("on"),this.barRowGraphRenderer.toggleGraphBars(),this.barRowGraphRenderer.toggleDrawMode()):this.polygonalLineGraphChoice&&(this.GraphBackDraw.classList.contains("on")?(this.GraphBackDraw.classList.remove("on"),this.polygonalLineGraphRenderer.toggleGraphLines(),this.polygonalLineGraphRenderer.toggleDrawMode(),this.WaveButton.classList.remove("disabled")):(this.GraphBackDraw.classList.add("on"),this.polygonalLineGraphRenderer.toggleGraphLines(),this.polygonalLineGraphRenderer.toggleDrawMode(),this.WaveButton.classList.add("disabled"),this.WaveButton.classList.remove("on"),this.WaveBg.classList.remove("on")))}handleWaveButtonClick(){this.polygonalLineGraphChoice&&(this.polygonalLineGraphRenderer.toggleWaveMode(),this.WaveButton.classList.toggle("on"),this.WaveBg.classList.toggle("on"),this.WaveButton.classList.contains("on")?(this.GraphBackDraw.classList.add("disabled"),this.GraphBackDraw.classList.remove("on")):this.GraphBackDraw.classList.remove("disabled"))}resetData(){let t=document.querySelector(".input-graph-title"),e=document.querySelector(".input-graph-data");if(e&&(t.value="",e.querySelectorAll("input").forEach(t=>{t.classList.contains("num-data-bottom")?(t.value="0",t.setAttribute("data-previous-value","0")):t.value=""}),this.updateTotalBoxValue()),this.dropdownManager.resetDropdowns(),this.imageSelector.reset(),this.gradationManager.reset(),this.barColGraphRenderer.reset(),this.barRowGraphRenderer.reset(),this.polygonalLineGraphChoice){this.polygonalLineGraphRenderer.reset();let t=document.getElementById("graphSvg");t&&t.classList.remove("wave-mode")}this.GraphBackDraw.classList.remove("disabled"),this.WaveButton.classList.remove("disabled","disabledKeep"),this.miniTableManager.hideMiniTable()}constructor(){(0,s._)(this,"common",void 0),(0,s._)(this,"pages",void 0),(0,s._)(this,"selectGraphs",void 0),(0,s._)(this,"choiceGraph",void 0),(0,s._)(this,"settingGraph",void 0),(0,s._)(this,"PictureGraph",void 0),(0,s._)(this,"inputGraphData",void 0),(0,s._)(this,"showGraph",void 0),(0,s._)(this,"PageResetButton",void 0),(0,s._)(this,"SettingGraphApplyButton",void 0),(0,s._)(this,"SettingGraphResetButton",void 0),(0,s._)(this,"GraphBackDraw",void 0),(0,s._)(this,"GraphBackButton",void 0),(0,s._)(this,"WaveButton",void 0),(0,s._)(this,"WaveBg",void 0),(0,s._)(this,"numDataBox",void 0),(0,s._)(this,"dataControlAdd",void 0),(0,s._)(this,"dataControlRemove",void 0),(0,s._)(this,"selectImgGraphs",void 0),(0,s._)(this,"showSettingGradation",void 0),(0,s._)(this,"BarGraph",void 0),(0,s._)(this,"dropdownManager",void 0),(0,s._)(this,"imageSelector",void 0),(0,s._)(this,"gradationManager",void 0),(0,s._)(this,"dragImg",void 0),(0,s._)(this,"pictureGraphRenderer",void 0),(0,s._)(this,"barColGraphRenderer",void 0),(0,s._)(this,"barRowGraphRenderer",void 0),(0,s._)(this,"polygonalLineGraphRenderer",void 0),(0,s._)(this,"dataCollector",void 0),(0,s._)(this,"miniTableManager",void 0),(0,s._)(this,"pictureGraphChoice",!1),(0,s._)(this,"barColGraphChoice",!1),(0,s._)(this,"barRowGraphChoice",!1),(0,s._)(this,"polygonalLineGraphChoice",!1),this.common=new h,this.initializeElements(),this.initializeModules(),this.setupEventListeners()}}let k=new h;k.noDelay(),k.setupInit(function(){let t=[new S({root:".root",sounds:{list:[{id:"bgm_intro",src:"./audio/bgm_intro.mp3",loop:!0,ignoreStop:!0},{id:"bgm_game",src:"./audio/bgm_game.mp3",loop:!0,ignoreStop:!0},{id:"bgm_outro",src:"./audio/bgm_outro.mp3",loop:!0,ignoreStop:!0},{id:"sample_audio_01",src:"./audio/sample_audio_01.mp3"}]}})];return new M,t})}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var a=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=t,i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),i.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}})(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=[];i.O=(e,s,r,a)=>{if(s){a=a||0;for(var o=t.length;o>0&&t[o-1][2]>a;o--)t[o]=t[o-1];t[o]=[s,r,a];return}for(var n=1/0,o=0;o<t.length;o++){for(var[s,r,a]=t[o],l=!0,d=0;d<s.length;d++)(!1&a||n>=a)&&Object.keys(i.O).every(t=>i.O[t](s[d]))?s.splice(d--,1):(l=!1,a<n&&(n=a));if(l){t.splice(o--,1);var h=r();void 0!==h&&(e=h)}}return e}})(),i.rv=()=>"1.3.8",(()=>{i.g.importScripts&&(t=i.g.location+"");var t,e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");if(s.length)for(var r=s.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=s[r--].src}if(!t)throw Error("Automatic publicPath is not supported in this browser");i.p=(t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"))+"../"})(),(()=>{var t={980:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var r,a,[o,n,l]=s,d=0;if(o.some(e=>0!==t[e])){for(r in n)i.o(n,r)&&(i.m[r]=n[r]);if(l)var h=l(i)}for(e&&e(s);d<o.length;d++)a=o[d],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(h)},s=self.webpackChunkamanta_2025_project=self.webpackChunkamanta_2025_project||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})(),i.ruid="bundler=rspack@1.3.8";var s=i.O(void 0,["971"],function(){return i(338)});s=i.O(s)})();